{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Texture = exports.TextureWrap = exports.TextureFilter = void 0;\nvar TextureFilter;\n\n(function (TextureFilter) {\n  TextureFilter[TextureFilter[\"Nearest\"] = 9728] = \"Nearest\";\n  TextureFilter[TextureFilter[\"Linear\"] = 9729] = \"Linear\";\n  TextureFilter[TextureFilter[\"MipMap\"] = 9987] = \"MipMap\";\n  TextureFilter[TextureFilter[\"MipMapNearestNearest\"] = 9984] = \"MipMapNearestNearest\";\n  TextureFilter[TextureFilter[\"MipMapLinearNearest\"] = 9985] = \"MipMapLinearNearest\";\n  TextureFilter[TextureFilter[\"MipMapNearestLinear\"] = 9986] = \"MipMapNearestLinear\";\n  TextureFilter[TextureFilter[\"MipMapLinearLinear\"] = 9987] = \"MipMapLinearLinear\"; // WebGLRenderingContext.LINEAR_MIPMAP_LINEAR\n})(TextureFilter = exports.TextureFilter || (exports.TextureFilter = {}));\n\nvar TextureWrap;\n\n(function (TextureWrap) {\n  TextureWrap[TextureWrap[\"MirroredRepeat\"] = 33648] = \"MirroredRepeat\";\n  TextureWrap[TextureWrap[\"ClampToEdge\"] = 33071] = \"ClampToEdge\";\n  TextureWrap[TextureWrap[\"Repeat\"] = 10497] = \"Repeat\"; // WebGLRenderingContext.REPEAT\n})(TextureWrap = exports.TextureWrap || (exports.TextureWrap = {}));\n\nclass Texture {\n  constructor(context, image) {\n    let useMipMaps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    this.texture = null;\n    this.boundUnit = 0;\n    this.useMipMaps = false;\n    this.width = 0;\n    this.height = 0;\n    this._image = image;\n    this.context = context;\n    this.useMipMaps = useMipMaps;\n    this.restore();\n    this.width = image.width;\n    this.height = image.height;\n  }\n\n  getImage() {\n    return this._image;\n  }\n\n  static load(gl, url) {\n    let useMipmaps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    return new Promise(resolve => {\n      const image = new Image();\n\n      image.onload = () => {\n        resolve(new Texture(gl, image, useMipmaps));\n      };\n\n      image.src = url;\n    });\n  }\n\n  getWebGLTexture() {\n    return this.texture;\n  }\n\n  setFilters(minFilter, magFilter) {\n    let gl = this.context;\n    this.bind();\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, Texture.validateMagFilter(magFilter));\n  }\n\n  static validateMagFilter(magFilter) {\n    switch (magFilter) {\n      case TextureFilter.MipMap:\n      case TextureFilter.MipMapLinearLinear:\n      case TextureFilter.MipMapLinearNearest:\n      case TextureFilter.MipMapNearestLinear:\n      case TextureFilter.MipMapNearestNearest:\n        return TextureFilter.Linear;\n\n      default:\n        return magFilter;\n    }\n  }\n\n  setWraps(uWrap, vWrap) {\n    let gl = this.context;\n    this.bind();\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, uWrap);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, vWrap);\n  }\n\n  update(useMipMaps) {\n    let gl = this.context;\n    if (!this.texture) this.texture = this.context.createTexture();\n    this.bind();\n    if (Texture.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL) gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this._image);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, useMipMaps ? gl.LINEAR_MIPMAP_LINEAR : gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    if (useMipMaps) gl.generateMipmap(gl.TEXTURE_2D);\n  }\n\n  restore() {\n    this.texture = null;\n    this.update(this.useMipMaps);\n  }\n\n  bind() {\n    let unit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let gl = this.context;\n    this.boundUnit = unit;\n    gl.activeTexture(gl.TEXTURE0 + unit);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n  }\n\n  unbind() {\n    let gl = this.context;\n    gl.activeTexture(gl.TEXTURE0 + this.boundUnit);\n    gl.bindTexture(gl.TEXTURE_2D, null);\n  }\n\n  dispose() {\n    let gl = this.context;\n    gl.deleteTexture(this.texture);\n  }\n\n}\n\nexports.Texture = Texture;\nTexture.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL = false;","map":{"version":3,"names":["Object","defineProperty","exports","value","Texture","TextureWrap","TextureFilter","constructor","context","image","useMipMaps","texture","boundUnit","width","height","_image","restore","getImage","load","gl","url","useMipmaps","Promise","resolve","Image","onload","src","getWebGLTexture","setFilters","minFilter","magFilter","bind","texParameteri","TEXTURE_2D","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","validateMagFilter","MipMap","MipMapLinearLinear","MipMapLinearNearest","MipMapNearestLinear","MipMapNearestNearest","Linear","setWraps","uWrap","vWrap","TEXTURE_WRAP_S","TEXTURE_WRAP_T","update","createTexture","DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","texImage2D","RGBA","UNSIGNED_BYTE","LINEAR","LINEAR_MIPMAP_LINEAR","CLAMP_TO_EDGE","generateMipmap","unit","activeTexture","TEXTURE0","bindTexture","unbind","dispose","deleteTexture"],"sources":["D:/projects/test-game/node_modules/gdxts/dist/lib/Texture.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Texture = exports.TextureWrap = exports.TextureFilter = void 0;\r\nvar TextureFilter;\r\n(function (TextureFilter) {\r\n    TextureFilter[TextureFilter[\"Nearest\"] = 9728] = \"Nearest\";\r\n    TextureFilter[TextureFilter[\"Linear\"] = 9729] = \"Linear\";\r\n    TextureFilter[TextureFilter[\"MipMap\"] = 9987] = \"MipMap\";\r\n    TextureFilter[TextureFilter[\"MipMapNearestNearest\"] = 9984] = \"MipMapNearestNearest\";\r\n    TextureFilter[TextureFilter[\"MipMapLinearNearest\"] = 9985] = \"MipMapLinearNearest\";\r\n    TextureFilter[TextureFilter[\"MipMapNearestLinear\"] = 9986] = \"MipMapNearestLinear\";\r\n    TextureFilter[TextureFilter[\"MipMapLinearLinear\"] = 9987] = \"MipMapLinearLinear\"; // WebGLRenderingContext.LINEAR_MIPMAP_LINEAR\r\n})(TextureFilter = exports.TextureFilter || (exports.TextureFilter = {}));\r\nvar TextureWrap;\r\n(function (TextureWrap) {\r\n    TextureWrap[TextureWrap[\"MirroredRepeat\"] = 33648] = \"MirroredRepeat\";\r\n    TextureWrap[TextureWrap[\"ClampToEdge\"] = 33071] = \"ClampToEdge\";\r\n    TextureWrap[TextureWrap[\"Repeat\"] = 10497] = \"Repeat\"; // WebGLRenderingContext.REPEAT\r\n})(TextureWrap = exports.TextureWrap || (exports.TextureWrap = {}));\r\nclass Texture {\r\n    constructor(context, image, useMipMaps = false) {\r\n        this.texture = null;\r\n        this.boundUnit = 0;\r\n        this.useMipMaps = false;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this._image = image;\r\n        this.context = context;\r\n        this.useMipMaps = useMipMaps;\r\n        this.restore();\r\n        this.width = image.width;\r\n        this.height = image.height;\r\n    }\r\n    getImage() {\r\n        return this._image;\r\n    }\r\n    static load(gl, url, useMipmaps = false) {\r\n        return new Promise(resolve => {\r\n            const image = new Image();\r\n            image.onload = () => {\r\n                resolve(new Texture(gl, image, useMipmaps));\r\n            };\r\n            image.src = url;\r\n        });\r\n    }\r\n    getWebGLTexture() {\r\n        return this.texture;\r\n    }\r\n    setFilters(minFilter, magFilter) {\r\n        let gl = this.context;\r\n        this.bind();\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, Texture.validateMagFilter(magFilter));\r\n    }\r\n    static validateMagFilter(magFilter) {\r\n        switch (magFilter) {\r\n            case TextureFilter.MipMap:\r\n            case TextureFilter.MipMapLinearLinear:\r\n            case TextureFilter.MipMapLinearNearest:\r\n            case TextureFilter.MipMapNearestLinear:\r\n            case TextureFilter.MipMapNearestNearest:\r\n                return TextureFilter.Linear;\r\n            default:\r\n                return magFilter;\r\n        }\r\n    }\r\n    setWraps(uWrap, vWrap) {\r\n        let gl = this.context;\r\n        this.bind();\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, uWrap);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, vWrap);\r\n    }\r\n    update(useMipMaps) {\r\n        let gl = this.context;\r\n        if (!this.texture)\r\n            this.texture = this.context.createTexture();\r\n        this.bind();\r\n        if (Texture.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL)\r\n            gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this._image);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, useMipMaps ? gl.LINEAR_MIPMAP_LINEAR : gl.LINEAR);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        if (useMipMaps)\r\n            gl.generateMipmap(gl.TEXTURE_2D);\r\n    }\r\n    restore() {\r\n        this.texture = null;\r\n        this.update(this.useMipMaps);\r\n    }\r\n    bind(unit = 0) {\r\n        let gl = this.context;\r\n        this.boundUnit = unit;\r\n        gl.activeTexture(gl.TEXTURE0 + unit);\r\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\r\n    }\r\n    unbind() {\r\n        let gl = this.context;\r\n        gl.activeTexture(gl.TEXTURE0 + this.boundUnit);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n    }\r\n    dispose() {\r\n        let gl = this.context;\r\n        gl.deleteTexture(this.texture);\r\n    }\r\n}\r\nexports.Texture = Texture;\r\nTexture.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL = false;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}