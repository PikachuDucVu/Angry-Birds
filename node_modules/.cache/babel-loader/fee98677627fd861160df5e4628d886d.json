{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EntityIteratingSystem = void 0;\n\nconst System_1 = require(\"./System\");\n\nconst fastbitset_1 = __importDefault(require(\"fastbitset\"));\n\nclass EntityIteratingSystem extends System_1.System {\n  constructor(types) {\n    super();\n    this.componentBits = new fastbitset_1.default();\n    this.types = types;\n  }\n\n  setWorld(world) {\n    super.setWorld(world);\n\n    for (let type of this.types) {\n      this.componentBits.add(world.getComponentIndex(type));\n    }\n  }\n\n  process() {\n    this.begin();\n    this.world.getEntities(this.componentBits, this.processEntity.bind(this));\n    this.end();\n  }\n\n  begin() {}\n\n  end() {}\n\n}\n\nexports.EntityIteratingSystem = EntityIteratingSystem;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","EntityIteratingSystem","System_1","require","fastbitset_1","System","constructor","types","componentBits","default","setWorld","world","type","add","getComponentIndex","process","begin","getEntities","processEntity","bind","end"],"sources":["D:/projects/test-game/node_modules/flat-ecs/lib/EntityIteratingSystem.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EntityIteratingSystem = void 0;\nconst System_1 = require(\"./System\");\nconst fastbitset_1 = __importDefault(require(\"fastbitset\"));\nclass EntityIteratingSystem extends System_1.System {\n    constructor(types) {\n        super();\n        this.componentBits = new fastbitset_1.default();\n        this.types = types;\n    }\n    setWorld(world) {\n        super.setWorld(world);\n        for (let type of this.types) {\n            this.componentBits.add(world.getComponentIndex(type));\n        }\n    }\n    process() {\n        this.begin();\n        this.world.getEntities(this.componentBits, this.processEntity.bind(this));\n        this.end();\n    }\n    begin() { }\n    end() { }\n}\nexports.EntityIteratingSystem = EntityIteratingSystem;\n"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;IAAE,WAAWA;EAAb,CAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,qBAAR,GAAgC,KAAK,CAArC;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,YAAY,GAAGV,eAAe,CAACS,OAAO,CAAC,YAAD,CAAR,CAApC;;AACA,MAAMF,qBAAN,SAAoCC,QAAQ,CAACG,MAA7C,CAAoD;EAChDC,WAAW,CAACC,KAAD,EAAQ;IACf;IACA,KAAKC,aAAL,GAAqB,IAAIJ,YAAY,CAACK,OAAjB,EAArB;IACA,KAAKF,KAAL,GAAaA,KAAb;EACH;;EACDG,QAAQ,CAACC,KAAD,EAAQ;IACZ,MAAMD,QAAN,CAAeC,KAAf;;IACA,KAAK,IAAIC,IAAT,IAAiB,KAAKL,KAAtB,EAA6B;MACzB,KAAKC,aAAL,CAAmBK,GAAnB,CAAuBF,KAAK,CAACG,iBAAN,CAAwBF,IAAxB,CAAvB;IACH;EACJ;;EACDG,OAAO,GAAG;IACN,KAAKC,KAAL;IACA,KAAKL,KAAL,CAAWM,WAAX,CAAuB,KAAKT,aAA5B,EAA2C,KAAKU,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAA3C;IACA,KAAKC,GAAL;EACH;;EACDJ,KAAK,GAAG,CAAG;;EACXI,GAAG,GAAG,CAAG;;AAlBuC;;AAoBpDrB,OAAO,CAACE,qBAAR,GAAgCA,qBAAhC"},"metadata":{},"sourceType":"script"}