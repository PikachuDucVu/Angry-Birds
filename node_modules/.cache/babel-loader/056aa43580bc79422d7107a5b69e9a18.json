{"ast":null,"code":"import _initializerDefineProperty from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";import _classCallCheck from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _applyDecoratedDescriptor from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";import _initializerWarningHelper from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6;import{System,Inject}from\"flat-ecs\";import{Game}from\"gdxts\";import{createGameScreen}from\"../screen/GameScreen\";export var NextLevelSystem=(_dec=Inject(\"physicWorld\"),_dec2=Inject(\"levelState\"),_dec3=Inject(\"bird\"),_dec4=Inject(\"pigs\"),_dec5=Inject(\"assetManager\"),_dec6=Inject(\"viewport\"),(_class=/*#__PURE__*/function(_System){_inherits(NextLevelSystem,_System);var _super=_createSuper(NextLevelSystem);function NextLevelSystem(){var _this;_classCallCheck(this,NextLevelSystem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_initializerDefineProperty(_this,\"physicWorld\",_descriptor,_assertThisInitialized(_this));_initializerDefineProperty(_this,\"levelState\",_descriptor2,_assertThisInitialized(_this));_initializerDefineProperty(_this,\"bird\",_descriptor3,_assertThisInitialized(_this));_initializerDefineProperty(_this,\"pigs\",_descriptor4,_assertThisInitialized(_this));_initializerDefineProperty(_this,\"assetManager\",_descriptor5,_assertThisInitialized(_this));_initializerDefineProperty(_this,\"viewport\",_descriptor6,_assertThisInitialized(_this));return _this;}_createClass(NextLevelSystem,[{key:\"initialized\",value:function initialized(){this.levelState.transition=false;}},{key:\"process\",value:function process(){var _this2=this;if(this.levelState.conditionWin&&this.levelState.transition===false){this.levelState.transition=true;setTimeout(function(){_this2.levelState.currentLevel++;var screen=createGameScreen(_this2.assetManager,_this2.viewport);screen.then(function(screen){Game.shared.setScreen(screen);});},1500);}}}]);return NextLevelSystem;}(System),(_descriptor=_applyDecoratedDescriptor(_class.prototype,\"physicWorld\",[_dec],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,\"levelState\",[_dec2],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,\"bird\",[_dec3],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,\"pigs\",[_dec4],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,\"assetManager\",[_dec5],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor6=_applyDecoratedDescriptor(_class.prototype,\"viewport\",[_dec6],{configurable:true,enumerable:true,writable:true,initializer:null})),_class));","map":{"version":3,"names":["System","Inject","Game","createGameScreen","NextLevelSystem","levelState","transition","conditionWin","setTimeout","currentLevel","screen","assetManager","viewport","then","shared","setScreen"],"sources":["D:/projects/test-game/src/system/NextLevelSystem.ts"],"sourcesContent":["import { b2Body, b2World } from \"box2d.ts\";\r\nimport { System, Inject } from \"flat-ecs\";\r\nimport { AssetManager, Game, Viewport } from \"gdxts\";\r\nimport { LevelState } from \"../data/LevelState\";\r\nimport { createGameScreen } from \"../screen/GameScreen\";\r\n\r\nexport class NextLevelSystem extends System {\r\n  @Inject(\"physicWorld\") physicWorld: b2World;\r\n  @Inject(\"levelState\") levelState: LevelState;\r\n  @Inject(\"bird\") bird: b2Body[];\r\n  @Inject(\"pigs\") pigs: b2Body[];\r\n  @Inject(\"assetManager\") assetManager: AssetManager;\r\n  @Inject(\"viewport\") viewport: Viewport;\r\n\r\n  initialized(): void {\r\n    this.levelState.transition = false;\r\n  }\r\n  process(): void {\r\n    if (this.levelState.conditionWin && this.levelState.transition === false) {\r\n      this.levelState.transition = true;\r\n\r\n      setTimeout(() => {\r\n        this.levelState.currentLevel++;\r\n        const screen = createGameScreen(this.assetManager, this.viewport);\r\n        screen.then((screen) => {\r\n          Game.shared.setScreen(screen);\r\n        });\r\n      }, 1500);\r\n    }\r\n  }\r\n}\r\n"],"mappings":"uhCACA,OAASA,MAAT,CAAiBC,MAAjB,KAA+B,UAA/B,CACA,OAAuBC,IAAvB,KAA6C,OAA7C,CAEA,OAASC,gBAAT,KAAiC,sBAAjC,CAEA,UAAaC,gBAAb,OACGH,MAAM,CAAC,aAAD,CADT,OAEGA,MAAM,CAAC,YAAD,CAFT,OAGGA,MAAM,CAAC,MAAD,CAHT,OAIGA,MAAM,CAAC,MAAD,CAJT,OAKGA,MAAM,CAAC,cAAD,CALT,OAMGA,MAAM,CAAC,UAAD,CANT,g7BAQE,sBAAoB,CAClB,KAAKI,UAAL,CAAgBC,UAAhB,CAA6B,KAA7B,CACD,CAVH,uBAWE,kBAAgB,iBACd,GAAI,KAAKD,UAAL,CAAgBE,YAAhB,EAAgC,KAAKF,UAAL,CAAgBC,UAAhB,GAA+B,KAAnE,CAA0E,CACxE,KAAKD,UAAL,CAAgBC,UAAhB,CAA6B,IAA7B,CAEAE,UAAU,CAAC,UAAM,CACf,MAAI,CAACH,UAAL,CAAgBI,YAAhB,GACA,GAAMC,OAAM,CAAGP,gBAAgB,CAAC,MAAI,CAACQ,YAAN,CAAoB,MAAI,CAACC,QAAzB,CAA/B,CACAF,MAAM,CAACG,IAAP,CAAY,SAACH,MAAD,CAAY,CACtBR,IAAI,CAACY,MAAL,CAAYC,SAAZ,CAAsBL,MAAtB,EACD,CAFD,EAGD,CANS,CAMP,IANO,CAAV,CAOD,CACF,CAvBH,6BAAqCV,MAArC"},"metadata":{},"sourceType":"module"}