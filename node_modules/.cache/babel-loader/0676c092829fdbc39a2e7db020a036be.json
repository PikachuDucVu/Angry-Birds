{"ast":null,"code":"import _initializerDefineProperty from \"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";\nimport _applyDecoratedDescriptor from \"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";\nimport _initializerWarningHelper from \"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;\n\nimport { System, Inject } from \"flat-ecs\";\nimport { Constants } from \"../Constants\";\nexport let BirdRenderSystem = (_dec = Inject(\"gl\"), _dec2 = Inject(\"assetManager\"), _dec3 = Inject(\"batch\"), _dec4 = Inject(\"bird\"), _dec5 = Inject(\"specialSkillOfYellowBird\"), (_class = class BirdRenderSystem extends System {\n  constructor() {\n    super(...arguments);\n    this.birdAsset = void 0;\n    this.yellowBird = void 0;\n    this.rotation = 0;\n\n    _initializerDefineProperty(this, \"gl\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"assetManager\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"batch\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"bird\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"specialSkillOfYellowBird\", _descriptor5, this);\n  }\n\n  initialized() {\n    this.birdAsset = this.assetManager.getTexture(\"birdAsset\");\n    this.yellowBird = this.assetManager.getTexture(\"yellowBird\");\n  }\n\n  process() {\n    this.batch.begin();\n\n    for (let i = 0; i < this.bird.length; i++) {\n      this.batch.draw(this.bird[i].GetUserData() === \"RedBird\" ? this.birdAsset : this.yellowBird, this.bird[i].GetPosition().x * Constants.METER_TO_WORLD - 25, this.bird[i].GetPosition().y * Constants.METER_TO_WORLD - 25, Constants.BALL_RADIUS * Constants.METER_TO_WORLD, Constants.BALL_RADIUS * Constants.METER_TO_WORLD);\n    }\n\n    this.batch.end();\n    this.batch.begin();\n\n    for (let i = 0; i < this.specialSkillOfYellowBird.length; i++) {\n      this.batch.draw(this.yellowBird, this.specialSkillOfYellowBird[i].GetPosition().x, this.specialSkillOfYellowBird[i].GetPosition().y, Constants.BALL_RADIUS * Constants.METER_TO_WORLD, Constants.BALL_RADIUS * Constants.METER_TO_WORLD);\n    }\n\n    this.batch.end();\n  }\n\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"gl\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"assetManager\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"batch\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"bird\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"specialSkillOfYellowBird\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class));","map":{"version":3,"names":["System","Inject","Constants","BirdRenderSystem","birdAsset","yellowBird","rotation","initialized","assetManager","getTexture","process","batch","begin","i","bird","length","draw","GetUserData","GetPosition","x","METER_TO_WORLD","y","BALL_RADIUS","end","specialSkillOfYellowBird"],"sources":["D:/projects/test-game/src/system/BirdRenderSystem.ts"],"sourcesContent":["import { b2Body } from \"box2d.ts\";\r\nimport { System, Inject } from \"flat-ecs\";\r\nimport { AssetManager, PolygonBatch, Texture } from \"gdxts\";\r\nimport { Constants } from \"../Constants\";\r\n\r\nexport class BirdRenderSystem extends System {\r\n  birdAsset: Texture;\r\n  yellowBird: Texture;\r\n  rotation = 0;\r\n\r\n  @Inject(\"gl\") gl: WebGLRenderingContext;\r\n  @Inject(\"assetManager\") assetManager: AssetManager;\r\n  @Inject(\"batch\") batch: PolygonBatch;\r\n  @Inject(\"bird\") bird: b2Body[];\r\n  @Inject(\"specialSkillOfYellowBird\") specialSkillOfYellowBird: b2Body[];\r\n\r\n  initialized(): void {\r\n    this.birdAsset = this.assetManager.getTexture(\"birdAsset\") as Texture;\r\n    this.yellowBird = this.assetManager.getTexture(\"yellowBird\") as Texture;\r\n  }\r\n  process(): void {\r\n    this.batch.begin();\r\n    for (let i = 0; i < this.bird.length; i++) {\r\n      this.batch.draw(\r\n        this.bird[i].GetUserData() === \"RedBird\"\r\n          ? this.birdAsset\r\n          : this.yellowBird,\r\n        this.bird[i].GetPosition().x * Constants.METER_TO_WORLD - 25,\r\n        this.bird[i].GetPosition().y * Constants.METER_TO_WORLD - 25,\r\n        Constants.BALL_RADIUS * Constants.METER_TO_WORLD,\r\n        Constants.BALL_RADIUS * Constants.METER_TO_WORLD\r\n      );\r\n    }\r\n    this.batch.end();\r\n    this.batch.begin();\r\n    for (let i = 0; i < this.specialSkillOfYellowBird.length; i++) {\r\n      this.batch.draw(\r\n        this.yellowBird,\r\n        this.specialSkillOfYellowBird[i].GetPosition().x,\r\n        this.specialSkillOfYellowBird[i].GetPosition().y,\r\n        Constants.BALL_RADIUS * Constants.METER_TO_WORLD,\r\n        Constants.BALL_RADIUS * Constants.METER_TO_WORLD\r\n      );\r\n    }\r\n    this.batch.end();\r\n  }\r\n}\r\n"],"mappings":";;;;;;AACA,SAASA,MAAT,EAAiBC,MAAjB,QAA+B,UAA/B;AAEA,SAASC,SAAT,QAA0B,cAA1B;AAEA,WAAaC,gBAAb,WAKGF,MAAM,CAAC,IAAD,CALT,UAMGA,MAAM,CAAC,cAAD,CANT,UAOGA,MAAM,CAAC,OAAD,CAPT,UAQGA,MAAM,CAAC,MAAD,CART,UASGA,MAAM,CAAC,0BAAD,CATT,YAAO,MAAME,gBAAN,SAA+BH,MAA/B,CAAsC;EAAA;IAAA;IAAA,KAC3CI,SAD2C;IAAA,KAE3CC,UAF2C;IAAA,KAG3CC,QAH2C,GAGhC,CAHgC;;IAAA;;IAAA;;IAAA;;IAAA;;IAAA;EAAA;;EAW3CC,WAAW,GAAS;IAClB,KAAKH,SAAL,GAAiB,KAAKI,YAAL,CAAkBC,UAAlB,CAA6B,WAA7B,CAAjB;IACA,KAAKJ,UAAL,GAAkB,KAAKG,YAAL,CAAkBC,UAAlB,CAA6B,YAA7B,CAAlB;EACD;;EACDC,OAAO,GAAS;IACd,KAAKC,KAAL,CAAWC,KAAX;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKC,IAAL,CAAUC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;MACzC,KAAKF,KAAL,CAAWK,IAAX,CACE,KAAKF,IAAL,CAAUD,CAAV,EAAaI,WAAb,OAA+B,SAA/B,GACI,KAAKb,SADT,GAEI,KAAKC,UAHX,EAIE,KAAKS,IAAL,CAAUD,CAAV,EAAaK,WAAb,GAA2BC,CAA3B,GAA+BjB,SAAS,CAACkB,cAAzC,GAA0D,EAJ5D,EAKE,KAAKN,IAAL,CAAUD,CAAV,EAAaK,WAAb,GAA2BG,CAA3B,GAA+BnB,SAAS,CAACkB,cAAzC,GAA0D,EAL5D,EAMElB,SAAS,CAACoB,WAAV,GAAwBpB,SAAS,CAACkB,cANpC,EAOElB,SAAS,CAACoB,WAAV,GAAwBpB,SAAS,CAACkB,cAPpC;IASD;;IACD,KAAKT,KAAL,CAAWY,GAAX;IACA,KAAKZ,KAAL,CAAWC,KAAX;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKW,wBAAL,CAA8BT,MAAlD,EAA0DF,CAAC,EAA3D,EAA+D;MAC7D,KAAKF,KAAL,CAAWK,IAAX,CACE,KAAKX,UADP,EAEE,KAAKmB,wBAAL,CAA8BX,CAA9B,EAAiCK,WAAjC,GAA+CC,CAFjD,EAGE,KAAKK,wBAAL,CAA8BX,CAA9B,EAAiCK,WAAjC,GAA+CG,CAHjD,EAIEnB,SAAS,CAACoB,WAAV,GAAwBpB,SAAS,CAACkB,cAJpC,EAKElB,SAAS,CAACoB,WAAV,GAAwBpB,SAAS,CAACkB,cALpC;IAOD;;IACD,KAAKT,KAAL,CAAWY,GAAX;EACD;;AAxC0C,CAA7C;EAAA;EAAA;EAAA;EAAA;AAAA;EAAA;EAAA;EAAA;EAAA;AAAA;EAAA;EAAA;EAAA;EAAA;AAAA;EAAA;EAAA;EAAA;EAAA;AAAA;EAAA;EAAA;EAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module"}