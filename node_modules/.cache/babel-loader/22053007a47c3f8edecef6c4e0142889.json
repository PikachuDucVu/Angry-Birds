{"ast":null,"code":"export const PlayMode = {\n  NORMAL: 0,\n  LOOP: 1,\n  LOOP_PINGPONG: 2,\n  REVERSED: 3,\n  LOOP_REVERSED: 4\n}; // TODO: dynamic frame duration\n\nexport default (function (frameDuration) {\n  let keyFrames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return {\n    getKeyFrame(stateTime) {\n      let mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : PlayMode.NORMAL;\n      let frameNumber = Math.floor(stateTime / frameDuration);\n\n      switch (mode) {\n        case PlayMode.NORMAL:\n          frameNumber = Math.min(keyFrames.length - 1, frameNumber);\n          break;\n\n        case PlayMode.LOOP:\n          frameNumber = frameNumber % keyFrames.length;\n          break;\n\n        case PlayMode.LOOP_PINGPONG:\n          frameNumber = frameNumber % (keyFrames.length * 2 - 2);\n\n          if (frameNumber >= keyFrames.length) {\n            frameNumber = keyFrames.length - 2 - (frameNumber - keyFrames.length);\n          }\n\n          break;\n\n        case PlayMode.REVERSED:\n          frameNumber = Math.max(keyFrames.length - frameNumber - 1, 0);\n          break;\n\n        case PlayMode.LOOP_REVERSED:\n          frameNumber = frameNumber % keyFrames.length;\n          frameNumber = keyFrames.length - frameNumber - 1;\n          break;\n\n        default:\n      }\n\n      return keyFrames[frameNumber];\n    }\n\n  };\n});","map":{"version":3,"names":["PlayMode","NORMAL","LOOP","LOOP_PINGPONG","REVERSED","LOOP_REVERSED","frameDuration","keyFrames","getKeyFrame","stateTime","mode","frameNumber","Math","floor","min","length","max"],"sources":["D:/projects/test-game/node_modules/gdxjs/lib/createAnimation.js"],"sourcesContent":["export const PlayMode = {\n  NORMAL: 0,\n  LOOP: 1,\n  LOOP_PINGPONG: 2,\n  REVERSED: 3,\n  LOOP_REVERSED: 4\n}; // TODO: dynamic frame duration\n\nexport default ((frameDuration, keyFrames = []) => {\n  return {\n    getKeyFrame(stateTime, mode = PlayMode.NORMAL) {\n      let frameNumber = Math.floor(stateTime / frameDuration);\n\n      switch (mode) {\n        case PlayMode.NORMAL:\n          frameNumber = Math.min(keyFrames.length - 1, frameNumber);\n          break;\n\n        case PlayMode.LOOP:\n          frameNumber = frameNumber % keyFrames.length;\n          break;\n\n        case PlayMode.LOOP_PINGPONG:\n          frameNumber = frameNumber % (keyFrames.length * 2 - 2);\n\n          if (frameNumber >= keyFrames.length) {\n            frameNumber = keyFrames.length - 2 - (frameNumber - keyFrames.length);\n          }\n\n          break;\n\n        case PlayMode.REVERSED:\n          frameNumber = Math.max(keyFrames.length - frameNumber - 1, 0);\n          break;\n\n        case PlayMode.LOOP_REVERSED:\n          frameNumber = frameNumber % keyFrames.length;\n          frameNumber = keyFrames.length - frameNumber - 1;\n          break;\n\n        default:\n      }\n\n      return keyFrames[frameNumber];\n    }\n\n  };\n});"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG;EACtBC,MAAM,EAAE,CADc;EAEtBC,IAAI,EAAE,CAFgB;EAGtBC,aAAa,EAAE,CAHO;EAItBC,QAAQ,EAAE,CAJY;EAKtBC,aAAa,EAAE;AALO,CAAjB,C,CAMJ;;AAEH,gBAAgB,UAACC,aAAD,EAAmC;EAAA,IAAnBC,SAAmB,uEAAP,EAAO;EACjD,OAAO;IACLC,WAAW,CAACC,SAAD,EAAoC;MAAA,IAAxBC,IAAwB,uEAAjBV,QAAQ,CAACC,MAAQ;MAC7C,IAAIU,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWJ,SAAS,GAAGH,aAAvB,CAAlB;;MAEA,QAAQI,IAAR;QACE,KAAKV,QAAQ,CAACC,MAAd;UACEU,WAAW,GAAGC,IAAI,CAACE,GAAL,CAASP,SAAS,CAACQ,MAAV,GAAmB,CAA5B,EAA+BJ,WAA/B,CAAd;UACA;;QAEF,KAAKX,QAAQ,CAACE,IAAd;UACES,WAAW,GAAGA,WAAW,GAAGJ,SAAS,CAACQ,MAAtC;UACA;;QAEF,KAAKf,QAAQ,CAACG,aAAd;UACEQ,WAAW,GAAGA,WAAW,IAAIJ,SAAS,CAACQ,MAAV,GAAmB,CAAnB,GAAuB,CAA3B,CAAzB;;UAEA,IAAIJ,WAAW,IAAIJ,SAAS,CAACQ,MAA7B,EAAqC;YACnCJ,WAAW,GAAGJ,SAAS,CAACQ,MAAV,GAAmB,CAAnB,IAAwBJ,WAAW,GAAGJ,SAAS,CAACQ,MAAhD,CAAd;UACD;;UAED;;QAEF,KAAKf,QAAQ,CAACI,QAAd;UACEO,WAAW,GAAGC,IAAI,CAACI,GAAL,CAAST,SAAS,CAACQ,MAAV,GAAmBJ,WAAnB,GAAiC,CAA1C,EAA6C,CAA7C,CAAd;UACA;;QAEF,KAAKX,QAAQ,CAACK,aAAd;UACEM,WAAW,GAAGA,WAAW,GAAGJ,SAAS,CAACQ,MAAtC;UACAJ,WAAW,GAAGJ,SAAS,CAACQ,MAAV,GAAmBJ,WAAnB,GAAiC,CAA/C;UACA;;QAEF;MA3BF;;MA8BA,OAAOJ,SAAS,CAACI,WAAD,CAAhB;IACD;;EAnCI,CAAP;AAsCD,CAvCD"},"metadata":{},"sourceType":"module"}