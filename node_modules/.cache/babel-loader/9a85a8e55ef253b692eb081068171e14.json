{"ast":null,"code":"import _regeneratorRuntime from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{b2BodyDef,b2BodyType,b2ContactListener,b2Filter,b2PolygonShape,b2World}from\"box2d.ts\";import{World}from\"flat-ecs\";import{PolygonBatch,ShapeRenderer,Vector2,ViewportInputHandler}from\"gdxts\";import{Constants}from\"../Constants\";import{BackgroundRenderSystem}from\"../system/BackgroundRenderSystem\";import{BirdRenderSystem}from\"../system/BirdRenderSystem\";import{BoxAndPigSystem}from\"../system/BoxAndPigSystem\";import{BoxesAndPigsRenderSystem}from\"../system/BoxesAndPigsRenderSystem\";import{ContactListenerSystem}from\"../system/ContactListenerSystem\";import{inputHandlerSystem}from\"../system/inputHandleSystem\";import{NextLevelSystem}from\"../system/NextLevelSystem\";import{ShapeRendererSystem}from\"../system/ShapeRendererSystem\";import{SlingshotRenderSystem}from\"../system/SlingshotRenderSystem\";import{createBall}from\"../utils/gameUtil\";var levelState={birdCount:0,conditionWin:false,currentLevel:1,transition:false,remainingTimeOfUseSpecialSkill:3};export var createGameScreen=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(assetManager,viewport){var createWall,createBox,createPig,gl,shapeRenderer,inputHandler,camera,batch,physicWorld,BALL_RADIUS,offset,birdNumber,bird,i,_i,BOX_SIZE,PIG_SIZE,pigs,boxes,birdOnSlingShot,mapData,wallData,boxData,pigsData,_iterator,_step,wall,_iterator2,_step2,box,_iterator3,_step3,pig,originPosition,slingPos,specialSkillOfYellowBird,world,contactListener;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:createWall=function createWall(world,x,y,width,height){var bodyDef=new b2BodyDef();bodyDef.type=b2BodyType.b2_staticBody;bodyDef.position.Set(x+width/2,y+height/2);var body=world.CreateBody(bodyDef);var shape=new b2PolygonShape();shape.SetAsBox(width/2,height/2);body.SetUserData(\"ground\");body.CreateFixture(shape);var filter=new b2Filter();filter.categoryBits=Constants.GROUND_CATEGORY_BIT;filter.maskBits=Constants.GROUND_MASK_BIT;};createBox=function createBox(world,x,y,width,height,userData){var bodyDef=new b2BodyDef();bodyDef.type=b2BodyType.b2_dynamicBody;bodyDef.position.Set(x+width/2,y+height/2);var body=world.CreateBody(bodyDef);var shape=new b2PolygonShape();shape.SetAsBox(width*0.5,height*0.5);body.SetUserData({name:userData.name,durability:0});var filter=new b2Filter();filter.categoryBits=Constants.BOX_CATEGORY_BIT;filter.maskBits=Constants.BOX_CATEGORY_BIT;body.CreateFixture(shape);return body;};createPig=function createPig(world,x,y,width,height,userData){var bodyDef=new b2BodyDef();bodyDef.type=b2BodyType.b2_dynamicBody;bodyDef.position.Set(x+width/2,y+height/2);var body=world.CreateBody(bodyDef);var shape=new b2PolygonShape();shape.SetAsBox(width*0.5,height*0.5);body.SetUserData({name:userData.name,durability:0});var filter=new b2Filter();filter.categoryBits=Constants.PIG_CATEGORY_BIT;filter.maskBits=Constants.PIG_MASK_BIT;body.CreateFixture(shape);return body;};gl=viewport.getContext();shapeRenderer=new ShapeRenderer(gl);inputHandler=new ViewportInputHandler(viewport);camera=viewport.getCamera();batch=new PolygonBatch(gl);camera.setYDown(true);batch.setYDown(true);physicWorld=new b2World({x:0,y:10});BALL_RADIUS=0.2;offset=0.5;birdNumber=1;bird=[createBall(physicWorld,2,3.45,BALL_RADIUS,\"YellowBird\")];for(i=0;i<1;i++){bird.push(createBall(physicWorld,1.5-offset*i,3.85,BALL_RADIUS,\"RedBird\"));}for(_i=1;_i<3;_i++){bird.push(createBall(physicWorld,1.5-offset*_i,3.85,BALL_RADIUS,\"YellowBird\"));}BOX_SIZE=0.5;PIG_SIZE=0.3;pigs=[];boxes=[];birdOnSlingShot=true;levelState.transition=false;levelState.birdCount=0;levelState.conditionWin=false;_context.next=27;return fetch(\"./level\".concat(levelState.currentLevel,\".tmj\")).then(function(res){return res.json();});case 27:mapData=_context.sent;wallData=mapData.layers.find(function(l){return l.name===\"walls\";}).objects;boxData=mapData.layers.find(function(b){return b.name===\"boxes\";}).objects;pigsData=mapData.layers.find(function(p){return p.name===\"pigs\";}).objects;_iterator=_createForOfIteratorHelper(wallData);try{for(_iterator.s();!(_step=_iterator.n()).done;){wall=_step.value;createWall(physicWorld,wall.x/Constants.METER_TO_WORLD,wall.y/Constants.METER_TO_WORLD,wall.width/Constants.METER_TO_WORLD,wall.height/Constants.METER_TO_WORLD);}}catch(err){_iterator.e(err);}finally{_iterator.f();}_iterator2=_createForOfIteratorHelper(boxData);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){box=_step2.value;boxes.push(createBox(physicWorld,box.x/Constants.METER_TO_WORLD,box.y/Constants.METER_TO_WORLD,BOX_SIZE,BOX_SIZE,{name:\"box\"}));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_iterator3=_createForOfIteratorHelper(pigsData);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){pig=_step3.value;pigs.push(createPig(physicWorld,pig.x/Constants.METER_TO_WORLD,pig.y/Constants.METER_TO_WORLD,PIG_SIZE,PIG_SIZE,{name:\"pig\"}));}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}originPosition=new Vector2(bird[0].GetPosition().x*Constants.METER_TO_WORLD,bird[0].GetPosition().y*Constants.METER_TO_WORLD);slingPos=new Vector2(bird[0].GetPosition().x*Constants.METER_TO_WORLD,bird[0].GetPosition().y*Constants.METER_TO_WORLD);specialSkillOfYellowBird=[];world=new World();contactListener=new b2ContactListener();gl.clearColor(0,0,0,1);physicWorld.SetContactListener(contactListener);world.register(\"inputHandler\",inputHandler);world.register(\"contactListener\",contactListener);world.register(\"gl\",gl);world.register(\"shapeRenderer\",shapeRenderer);world.register(\"assetManager\",assetManager);world.register(\"viewport\",viewport);world.register(\"batch\",batch);world.register(\"bird\",bird);world.register(\"levelState\",levelState);world.register(\"boxes\",boxes);world.register(\"pigs\",pigs);world.register(\"originPosition\",originPosition);world.register(\"slingPos\",slingPos);world.register(\"physicWorld\",physicWorld);world.register(\"birdOnSlingShot\",birdOnSlingShot);world.register(\"birdNumber\",birdNumber);world.register(\"specialSkillOfYellowBird\",specialSkillOfYellowBird);world.addSystem(new BackgroundRenderSystem(),false);world.addSystem(new ShapeRendererSystem(),false);world.addSystem(new inputHandlerSystem(),false);world.addSystem(new BirdRenderSystem(),false);world.addSystem(new BoxesAndPigsRenderSystem(),false);world.addSystem(new BoxAndPigSystem(),false);world.addSystem(new SlingshotRenderSystem(),false);world.addSystem(new ContactListenerSystem(),false);world.addSystem(new NextLevelSystem(),false);return _context.abrupt(\"return\",{update:function update(delta){gl.clear(gl.COLOR_BUFFER_BIT);batch.setProjection(camera.combined);shapeRenderer.setProjection(camera.combined);world.setDelta(delta);world.processActiveSystem();world.processPassiveSystem();physicWorld.Step(delta,8,3);levelState.remainingTimeOfUseSpecialSkill-=delta;},dispose:function dispose(){batch.dispose();inputHandler.cleanup();}});case 71:case\"end\":return _context.stop();}}},_callee);}));return function createGameScreen(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["b2BodyDef","b2BodyType","b2ContactListener","b2Filter","b2PolygonShape","b2World","World","PolygonBatch","ShapeRenderer","Vector2","ViewportInputHandler","Constants","BackgroundRenderSystem","BirdRenderSystem","BoxAndPigSystem","BoxesAndPigsRenderSystem","ContactListenerSystem","inputHandlerSystem","NextLevelSystem","ShapeRendererSystem","SlingshotRenderSystem","createBall","levelState","birdCount","conditionWin","currentLevel","transition","remainingTimeOfUseSpecialSkill","createGameScreen","assetManager","viewport","createWall","world","x","y","width","height","bodyDef","type","b2_staticBody","position","Set","body","CreateBody","shape","SetAsBox","SetUserData","CreateFixture","filter","categoryBits","GROUND_CATEGORY_BIT","maskBits","GROUND_MASK_BIT","createBox","userData","b2_dynamicBody","name","durability","BOX_CATEGORY_BIT","createPig","PIG_CATEGORY_BIT","PIG_MASK_BIT","gl","getContext","shapeRenderer","inputHandler","camera","getCamera","batch","setYDown","physicWorld","BALL_RADIUS","offset","birdNumber","bird","i","push","BOX_SIZE","PIG_SIZE","pigs","boxes","birdOnSlingShot","fetch","then","res","json","mapData","wallData","layers","find","l","objects","boxData","b","pigsData","p","wall","METER_TO_WORLD","box","pig","originPosition","GetPosition","slingPos","specialSkillOfYellowBird","contactListener","clearColor","SetContactListener","register","addSystem","update","delta","clear","COLOR_BUFFER_BIT","setProjection","combined","setDelta","processActiveSystem","processPassiveSystem","Step","dispose","cleanup"],"sources":["D:/projects/test-game/src/screen/GameScreen.ts"],"sourcesContent":["import {\r\n  b2Body,\r\n  b2BodyDef,\r\n  b2BodyType,\r\n  b2ContactListener,\r\n  b2Filter,\r\n  b2PolygonShape,\r\n  b2World,\r\n} from \"box2d.ts\";\r\nimport { World } from \"flat-ecs\";\r\nimport {\r\n  AssetManager,\r\n  PolygonBatch,\r\n  Screen,\r\n  ShapeRenderer,\r\n  Vector2,\r\n  Viewport,\r\n  ViewportInputHandler,\r\n} from \"gdxts\";\r\nimport { Constants } from \"../Constants\";\r\nimport { LevelState } from \"../data/LevelState\";\r\nimport { BackgroundRenderSystem } from \"../system/BackgroundRenderSystem\";\r\nimport { BirdRenderSystem } from \"../system/BirdRenderSystem\";\r\nimport { BoxAndPigSystem } from \"../system/BoxAndPigSystem\";\r\nimport { BoxesAndPigsRenderSystem } from \"../system/BoxesAndPigsRenderSystem\";\r\nimport { ContactListenerSystem } from \"../system/ContactListenerSystem\";\r\nimport { inputHandlerSystem } from \"../system/inputHandleSystem\";\r\nimport { NextLevelSystem } from \"../system/NextLevelSystem\";\r\nimport { ShapeRendererSystem } from \"../system/ShapeRendererSystem\";\r\nimport { SlingshotRenderSystem } from \"../system/SlingshotRenderSystem\";\r\nimport { createBall } from \"../utils/gameUtil\";\r\n\r\nconst levelState: LevelState = {\r\n  birdCount: 0,\r\n  conditionWin: false,\r\n  currentLevel: 1,\r\n  transition: false,\r\n  remainingTimeOfUseSpecialSkill: 3,\r\n};\r\n\r\nexport const createGameScreen = async (\r\n  assetManager: AssetManager,\r\n  viewport: Viewport\r\n): Promise<Screen> => {\r\n  const createWall = (\r\n    world: b2World,\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n    height: number\r\n  ) => {\r\n    const bodyDef = new b2BodyDef();\r\n    bodyDef.type = b2BodyType.b2_staticBody;\r\n    bodyDef.position.Set(x + width / 2, y + height / 2);\r\n    const body = world.CreateBody(bodyDef);\r\n    const shape = new b2PolygonShape();\r\n    shape.SetAsBox(width / 2, height / 2);\r\n    body.SetUserData(\"ground\");\r\n    body.CreateFixture(shape);\r\n\r\n    const filter = new b2Filter();\r\n    filter.categoryBits = Constants.GROUND_CATEGORY_BIT;\r\n    filter.maskBits = Constants.GROUND_MASK_BIT;\r\n  };\r\n\r\n  const createBox = (\r\n    world: b2World,\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n    height: number,\r\n    userData: {\r\n      name: string;\r\n    }\r\n  ): b2Body => {\r\n    const bodyDef = new b2BodyDef();\r\n    bodyDef.type = b2BodyType.b2_dynamicBody;\r\n    bodyDef.position.Set(x + width / 2, y + height / 2);\r\n    const body = world.CreateBody(bodyDef);\r\n    const shape = new b2PolygonShape();\r\n    shape.SetAsBox(width * 0.5, height * 0.5);\r\n    body.SetUserData({\r\n      name: userData.name,\r\n      durability: 0,\r\n    });\r\n    const filter = new b2Filter();\r\n    filter.categoryBits = Constants.BOX_CATEGORY_BIT;\r\n    filter.maskBits = Constants.BOX_CATEGORY_BIT;\r\n    body.CreateFixture(shape);\r\n    return body;\r\n  };\r\n\r\n  const createPig = (\r\n    world: b2World,\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n    height: number,\r\n    userData: {\r\n      name: string;\r\n    }\r\n  ): b2Body => {\r\n    const bodyDef = new b2BodyDef();\r\n    bodyDef.type = b2BodyType.b2_dynamicBody;\r\n    bodyDef.position.Set(x + width / 2, y + height / 2);\r\n    const body = world.CreateBody(bodyDef);\r\n    const shape = new b2PolygonShape();\r\n    shape.SetAsBox(width * 0.5, height * 0.5);\r\n    body.SetUserData({\r\n      name: userData.name,\r\n      durability: 0,\r\n    });\r\n    const filter = new b2Filter();\r\n    filter.categoryBits = Constants.PIG_CATEGORY_BIT;\r\n    filter.maskBits = Constants.PIG_MASK_BIT;\r\n    body.CreateFixture(shape);\r\n    return body;\r\n  };\r\n\r\n  const gl = viewport.getContext();\r\n  const shapeRenderer = new ShapeRenderer(gl);\r\n  const inputHandler = new ViewportInputHandler(viewport);\r\n  const camera = viewport.getCamera();\r\n  const batch = new PolygonBatch(gl);\r\n  camera.setYDown(true);\r\n  batch.setYDown(true);\r\n\r\n  const physicWorld = new b2World({\r\n    x: 0,\r\n    y: 10,\r\n  });\r\n  const BALL_RADIUS = 0.2;\r\n\r\n  let offset = 0.5;\r\n  let birdNumber = 1;\r\n  let bird: b2Body[] = [\r\n    createBall(physicWorld, 2, 3.45, BALL_RADIUS, \"YellowBird\"),\r\n  ];\r\n\r\n  for (let i = 0; i < 1; i++) {\r\n    bird.push(\r\n      createBall(physicWorld, 1.5 - offset * i, 3.85, BALL_RADIUS, \"RedBird\")\r\n    );\r\n  }\r\n  for (let i = 1; i < 3; i++) {\r\n    bird.push(\r\n      createBall(physicWorld, 1.5 - offset * i, 3.85, BALL_RADIUS, \"YellowBird\")\r\n    );\r\n  }\r\n  const BOX_SIZE = 0.5;\r\n  const PIG_SIZE = 0.3;\r\n  let pigs: b2Body[] = [];\r\n  let boxes: b2Body[] = [];\r\n  let birdOnSlingShot = true;\r\n  let mapData: any;\r\n  levelState.transition = false;\r\n  levelState.birdCount = 0;\r\n  levelState.conditionWin = false;\r\n\r\n  mapData = await fetch(`./level${levelState.currentLevel}.tmj`).then((res) =>\r\n    res.json()\r\n  );\r\n\r\n  let wallData = mapData.layers.find((l: any) => l.name === \"walls\").objects;\r\n  let boxData = mapData.layers.find((b: any) => b.name === \"boxes\").objects;\r\n  let pigsData = mapData.layers.find((p: any) => p.name === \"pigs\").objects;\r\n\r\n  for (let wall of wallData) {\r\n    createWall(\r\n      physicWorld,\r\n      wall.x / Constants.METER_TO_WORLD,\r\n      wall.y / Constants.METER_TO_WORLD,\r\n      wall.width / Constants.METER_TO_WORLD,\r\n      wall.height / Constants.METER_TO_WORLD\r\n    );\r\n  }\r\n  for (let box of boxData) {\r\n    boxes.push(\r\n      createBox(\r\n        physicWorld,\r\n        box.x / Constants.METER_TO_WORLD,\r\n        box.y / Constants.METER_TO_WORLD,\r\n        BOX_SIZE,\r\n        BOX_SIZE,\r\n        {\r\n          name: `box`,\r\n        }\r\n      )\r\n    );\r\n  }\r\n  for (let pig of pigsData) {\r\n    pigs.push(\r\n      createPig(\r\n        physicWorld,\r\n        pig.x / Constants.METER_TO_WORLD,\r\n        pig.y / Constants.METER_TO_WORLD,\r\n        PIG_SIZE,\r\n        PIG_SIZE,\r\n        {\r\n          name: `pig`,\r\n        }\r\n      )\r\n    );\r\n  }\r\n\r\n  const originPosition = new Vector2(\r\n    bird[0].GetPosition().x * Constants.METER_TO_WORLD,\r\n    bird[0].GetPosition().y * Constants.METER_TO_WORLD\r\n  );\r\n  let slingPos = new Vector2(\r\n    bird[0].GetPosition().x * Constants.METER_TO_WORLD,\r\n    bird[0].GetPosition().y * Constants.METER_TO_WORLD\r\n  );\r\n  let specialSkillOfYellowBird: b2Body[] = [];\r\n\r\n  const world = new World();\r\n  const contactListener = new b2ContactListener();\r\n\r\n  gl.clearColor(0, 0, 0, 1);\r\n  physicWorld.SetContactListener(contactListener);\r\n\r\n  world.register(\"inputHandler\", inputHandler);\r\n  world.register(\"contactListener\", contactListener);\r\n  world.register(\"gl\", gl);\r\n  world.register(\"shapeRenderer\", shapeRenderer);\r\n  world.register(\"assetManager\", assetManager);\r\n  world.register(\"viewport\", viewport);\r\n  world.register(\"batch\", batch);\r\n  world.register(\"bird\", bird);\r\n  world.register(\"levelState\", levelState);\r\n  world.register(\"boxes\", boxes);\r\n  world.register(\"pigs\", pigs);\r\n  world.register(\"originPosition\", originPosition);\r\n  world.register(\"slingPos\", slingPos);\r\n  world.register(\"physicWorld\", physicWorld);\r\n  world.register(\"birdOnSlingShot\", birdOnSlingShot);\r\n  world.register(\"birdNumber\", birdNumber);\r\n  world.register(\"specialSkillOfYellowBird\", specialSkillOfYellowBird);\r\n\r\n  world.addSystem(new BackgroundRenderSystem(), false);\r\n  world.addSystem(new ShapeRendererSystem(), false);\r\n  world.addSystem(new inputHandlerSystem(), false);\r\n  world.addSystem(new BirdRenderSystem(), false);\r\n  world.addSystem(new BoxesAndPigsRenderSystem(), false);\r\n  world.addSystem(new BoxAndPigSystem(), false);\r\n  world.addSystem(new SlingshotRenderSystem(), false);\r\n  world.addSystem(new ContactListenerSystem(), false);\r\n  world.addSystem(new NextLevelSystem(), false);\r\n\r\n  return {\r\n    update(delta: number) {\r\n      gl.clear(gl.COLOR_BUFFER_BIT);\r\n      batch.setProjection(camera.combined);\r\n      shapeRenderer.setProjection(camera.combined);\r\n      world.setDelta(delta);\r\n      world.processActiveSystem();\r\n      world.processPassiveSystem();\r\n      physicWorld.Step(delta, 8, 3);\r\n      levelState.remainingTimeOfUseSpecialSkill -= delta;\r\n    },\r\n    dispose(): void {\r\n      batch.dispose();\r\n      inputHandler.cleanup();\r\n    },\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}