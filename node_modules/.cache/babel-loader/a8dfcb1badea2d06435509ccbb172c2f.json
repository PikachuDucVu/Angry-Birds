{"ast":null,"code":"import _initializerDefineProperty from \"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";\nimport _applyDecoratedDescriptor from \"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";\nimport _initializerWarningHelper from \"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";\n\nvar _dec, _dec2, _dec3, _class, _descriptor, _descriptor2, _descriptor3;\n\nimport { System, Inject } from \"flat-ecs\";\nimport { Color, InputEvent } from \"gdxts\";\nimport { Constants } from \"../Constants\";\nexport let ShapeRendererSystem = (_dec = Inject(\"slingPos\"), _dec2 = Inject(\"shapeRenderer\"), _dec3 = Inject(\"inputHandler\"), (_class = class ShapeRendererSystem extends System {\n  constructor() {\n    super(...arguments);\n\n    _initializerDefineProperty(this, \"slingPos\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"shapeRenderer\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"inputHandler\", _descriptor3, this);\n  }\n\n  initialized() {\n    this.inputHandler.addEventListener(InputEvent.TouchMove, () => {\n      if (this.inputHandler.isTouched()) {\n        this.slingPos = this.inputHandler.getTouchedWorldCoord();\n      }\n    });\n  }\n\n  process() {\n    this.shapeRenderer.begin();\n    this.shapeRenderer.circle(true, this.slingPos.x, this.slingPos.y, 0.1 * Constants.METER_TO_WORLD, Color.BLUE);\n    this.shapeRenderer.end();\n  }\n\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"slingPos\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"shapeRenderer\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"inputHandler\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class));","map":{"version":3,"names":["System","Inject","Color","InputEvent","Constants","ShapeRendererSystem","initialized","inputHandler","addEventListener","TouchMove","isTouched","slingPos","getTouchedWorldCoord","process","shapeRenderer","begin","circle","x","y","METER_TO_WORLD","BLUE","end"],"sources":["D:/projects/test-game/src/system/ShapeRendererSystem.ts"],"sourcesContent":["import { System, Inject } from \"flat-ecs\";\r\nimport {\r\n  Color,\r\n  InputEvent,\r\n  ShapeRenderer,\r\n  Vector2,\r\n  ViewportInputHandler,\r\n} from \"gdxts\";\r\nimport { Constants } from \"../Constants\";\r\n\r\nexport class ShapeRendererSystem extends System {\r\n  @Inject(\"slingPos\") slingPos: Vector2;\r\n  @Inject(\"shapeRenderer\") shapeRenderer: ShapeRenderer;\r\n  @Inject(\"inputHandler\") inputHandler: ViewportInputHandler;\r\n\r\n  initialized() {\r\n    this.inputHandler.addEventListener(InputEvent.TouchMove, () => {\r\n      if (this.inputHandler.isTouched()) {\r\n        this.slingPos = this.inputHandler.getTouchedWorldCoord();\r\n      }\r\n    });\r\n  }\r\n  process(): void {\r\n    this.shapeRenderer.begin();\r\n    this.shapeRenderer.circle(\r\n      true,\r\n      this.slingPos.x,\r\n      this.slingPos.y,\r\n      0.1 * Constants.METER_TO_WORLD,\r\n      Color.BLUE\r\n    );\r\n    this.shapeRenderer.end();\r\n  }\r\n}\r\n"],"mappings":";;;;;;AAAA,SAASA,MAAT,EAAiBC,MAAjB,QAA+B,UAA/B;AACA,SACEC,KADF,EAEEC,UAFF,QAMO,OANP;AAOA,SAASC,SAAT,QAA0B,cAA1B;AAEA,WAAaC,mBAAb,WACGJ,MAAM,CAAC,UAAD,CADT,UAEGA,MAAM,CAAC,eAAD,CAFT,UAGGA,MAAM,CAAC,cAAD,CAHT,YAAO,MAAMI,mBAAN,SAAkCL,MAAlC,CAAyC;EAAA;IAAA;;IAAA;;IAAA;;IAAA;EAAA;;EAK9CM,WAAW,GAAG;IACZ,KAAKC,YAAL,CAAkBC,gBAAlB,CAAmCL,UAAU,CAACM,SAA9C,EAAyD,MAAM;MAC7D,IAAI,KAAKF,YAAL,CAAkBG,SAAlB,EAAJ,EAAmC;QACjC,KAAKC,QAAL,GAAgB,KAAKJ,YAAL,CAAkBK,oBAAlB,EAAhB;MACD;IACF,CAJD;EAKD;;EACDC,OAAO,GAAS;IACd,KAAKC,aAAL,CAAmBC,KAAnB;IACA,KAAKD,aAAL,CAAmBE,MAAnB,CACE,IADF,EAEE,KAAKL,QAAL,CAAcM,CAFhB,EAGE,KAAKN,QAAL,CAAcO,CAHhB,EAIE,MAAMd,SAAS,CAACe,cAJlB,EAKEjB,KAAK,CAACkB,IALR;IAOA,KAAKN,aAAL,CAAmBO,GAAnB;EACD;;AAtB6C,CAAhD;EAAA;EAAA;EAAA;EAAA;AAAA;EAAA;EAAA;EAAA;EAAA;AAAA;EAAA;EAAA;EAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module"}