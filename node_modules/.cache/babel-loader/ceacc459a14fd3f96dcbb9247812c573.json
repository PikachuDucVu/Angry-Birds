{"ast":null,"code":"\"use strict\";\n\nvar _inherits = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/inherits.js\").default;\n\nvar _createSuper = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/createSuper.js\").default;\n\nvar _classCallCheck = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar _a;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.copyArray = exports.createStage = exports.pointInRect = exports.resizeCanvas = exports.createGameLoop = exports.WindowedMean = exports.TimeKeeper = exports.Pools = exports.Pool = exports.Utils = exports.PowOut = exports.Pow = exports.Interpolation = exports.MathUtils = exports.Color = exports.StringSet = exports.IntSet = exports.Align = void 0;\n\nvar Align = /*#__PURE__*/function () {\n  function Align() {\n    _classCallCheck(this, Align);\n  }\n\n  _createClass(Align, null, [{\n    key: \"isLeft\",\n    value: function isLeft(align) {\n      return (align & this.left) !== 0;\n    }\n  }, {\n    key: \"isRight\",\n    value: function isRight(align) {\n      return (align & this.right) !== 0;\n    }\n  }, {\n    key: \"isTop\",\n    value: function isTop(align) {\n      return (align & this.top) !== 0;\n    }\n  }, {\n    key: \"isBottom\",\n    value: function isBottom(align) {\n      return (align & this.bottom) !== 0;\n    }\n  }, {\n    key: \"isCenterVertical\",\n    value: function isCenterVertical(align) {\n      return (align & this.top) === 0 && (align & this.bottom) === 0;\n    }\n  }, {\n    key: \"isCenterHorizontal\",\n    value: function isCenterHorizontal(align) {\n      return (align & this.left) === 0 && (align & this.right) === 0;\n    }\n  }]);\n\n  return Align;\n}();\n\nexports.Align = Align;\n_a = Align;\nAlign.center = 1 << 0;\nAlign.top = 1 << 1;\nAlign.bottom = 1 << 2;\nAlign.left = 1 << 3;\nAlign.right = 1 << 4;\nAlign.topLeft = _a.top | _a.left;\nAlign.topRight = _a.top | _a.right;\nAlign.bottomLeft = _a.bottom | _a.left;\nAlign.bottomRight = _a.bottom | _a.right;\n\nvar IntSet = /*#__PURE__*/function () {\n  function IntSet() {\n    _classCallCheck(this, IntSet);\n\n    this.array = new Array();\n  }\n\n  _createClass(IntSet, [{\n    key: \"add\",\n    value: function add(value) {\n      var contains = this.contains(value);\n      this.array[value | 0] = value | 0;\n      return !contains;\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(value) {\n      return this.array[value | 0] !== undefined;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(value) {\n      this.array[value | 0] = undefined;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.array.length = 0;\n    }\n  }]);\n\n  return IntSet;\n}();\n\nexports.IntSet = IntSet;\n\nvar StringSet = /*#__PURE__*/function () {\n  function StringSet() {\n    _classCallCheck(this, StringSet);\n\n    this.entries = {};\n    this.size = 0;\n  }\n\n  _createClass(StringSet, [{\n    key: \"add\",\n    value: function add(value) {\n      var contains = this.entries[value];\n      this.entries[value] = true;\n\n      if (!contains) {\n        this.size++;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"addAll\",\n    value: function addAll(values) {\n      var oldSize = this.size;\n\n      for (var i = 0, n = values.length; i < n; i++) {\n        this.add(values[i]);\n      }\n\n      return oldSize !== this.size;\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(value) {\n      return this.entries[value];\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.entries = {};\n      this.size = 0;\n    }\n  }]);\n\n  return StringSet;\n}();\n\nexports.StringSet = StringSet;\n\nvar Color = /*#__PURE__*/function () {\n  function Color() {\n    var r = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var b = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var a = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    _classCallCheck(this, Color);\n\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a;\n  }\n\n  _createClass(Color, [{\n    key: \"set\",\n    value: function set(r, g, b, a) {\n      this.r = r;\n      this.g = g;\n      this.b = b;\n      this.a = a;\n      return this.clamp();\n    }\n  }, {\n    key: \"setFromColor\",\n    value: function setFromColor(c) {\n      this.r = c.r;\n      this.g = c.g;\n      this.b = c.b;\n      this.a = c.a;\n      return this;\n    }\n  }, {\n    key: \"setFromString\",\n    value: function setFromString(hex) {\n      hex = hex.charAt(0) === '#' ? hex.substring(1) : hex;\n      this.r = parseInt(hex.substring(0, 2), 16) / 255;\n      this.g = parseInt(hex.substring(2, 4), 16) / 255;\n      this.b = parseInt(hex.substring(4, 6), 16) / 255;\n      this.a = hex.length !== 8 ? 1 : parseInt(hex.substring(6, 8), 16) / 255;\n      return this;\n    }\n  }, {\n    key: \"add\",\n    value: function add(r, g, b, a) {\n      this.r += r;\n      this.g += g;\n      this.b += b;\n      this.a += a;\n      return this.clamp();\n    }\n  }, {\n    key: \"clamp\",\n    value: function clamp() {\n      if (this.r < 0) this.r = 0;else if (this.r > 1) this.r = 1;\n      if (this.g < 0) this.g = 0;else if (this.g > 1) this.g = 1;\n      if (this.b < 0) this.b = 0;else if (this.b > 1) this.b = 1;\n      if (this.a < 0) this.a = 0;else if (this.a > 1) this.a = 1;\n      return this;\n    }\n  }, {\n    key: \"toIntBits\",\n    value: function toIntBits() {\n      return 255 * this.a << 24 | 255 * this.b << 16 | 255 * this.g << 8 | 255 * this.r;\n    }\n  }], [{\n    key: \"rgba8888ToColor\",\n    value: function rgba8888ToColor(color, value) {\n      color.r = ((value & 0xff000000) >>> 24) / 255;\n      color.g = ((value & 0x00ff0000) >>> 16) / 255;\n      color.b = ((value & 0x0000ff00) >>> 8) / 255;\n      color.a = (value & 0x000000ff) / 255;\n    }\n  }, {\n    key: \"rgb888ToColor\",\n    value: function rgb888ToColor(color, value) {\n      color.r = ((value & 0x00ff0000) >>> 16) / 255;\n      color.g = ((value & 0x0000ff00) >>> 8) / 255;\n      color.b = (value & 0x000000ff) / 255;\n    }\n  }, {\n    key: \"fromString\",\n    value: function fromString(hex) {\n      return new Color().setFromString(hex);\n    }\n  }]);\n\n  return Color;\n}();\n\nexports.Color = Color;\nColor.WHITE = new Color(1, 1, 1, 1);\nColor.RED = new Color(1, 0, 0, 1);\nColor.GREEN = new Color(0, 1, 0, 1);\nColor.BLUE = new Color(0, 0, 1, 1);\nColor.MAGENTA = new Color(1, 0, 1, 1);\n\nvar MathUtils = /*#__PURE__*/function () {\n  function MathUtils() {\n    _classCallCheck(this, MathUtils);\n  }\n\n  _createClass(MathUtils, null, [{\n    key: \"clamp\",\n    value: function clamp(value, min, max) {\n      if (value < min) return min;\n      if (value > max) return max;\n      return value;\n    }\n  }, {\n    key: \"cosDeg\",\n    value: function cosDeg(degrees) {\n      return Math.cos(degrees * MathUtils.degRad);\n    }\n  }, {\n    key: \"sinDeg\",\n    value: function sinDeg(degrees) {\n      return Math.sin(degrees * MathUtils.degRad);\n    }\n  }, {\n    key: \"signum\",\n    value: function signum(value) {\n      return value > 0 ? 1 : value < 0 ? -1 : 0;\n    }\n  }, {\n    key: \"toInt\",\n    value: function toInt(x) {\n      return x > 0 ? Math.floor(x) : Math.ceil(x);\n    }\n  }, {\n    key: \"cbrt\",\n    value: function cbrt(x) {\n      var y = Math.pow(Math.abs(x), 1 / 3);\n      return x < 0 ? -y : y;\n    }\n  }, {\n    key: \"randomTriangular\",\n    value: function randomTriangular(min, max) {\n      return MathUtils.randomTriangularWith(min, max, (min + max) * 0.5);\n    }\n  }, {\n    key: \"randomTriangularWith\",\n    value: function randomTriangularWith(min, max, mode) {\n      var u = Math.random();\n      var d = max - min;\n      if (u <= (mode - min) / d) return min + Math.sqrt(u * d * (mode - min));\n      return max - Math.sqrt((1 - u) * d * (max - mode));\n    }\n  }, {\n    key: \"isPowerOfTwo\",\n    value: function isPowerOfTwo(value) {\n      return value && (value & value - 1) === 0;\n    }\n  }]);\n\n  return MathUtils;\n}();\n\nexports.MathUtils = MathUtils;\nMathUtils.PI = 3.1415927;\nMathUtils.PI2 = MathUtils.PI * 2;\nMathUtils.radiansToDegrees = 180 / MathUtils.PI;\nMathUtils.radDeg = MathUtils.radiansToDegrees;\nMathUtils.degreesToRadians = MathUtils.PI / 180;\nMathUtils.degRad = MathUtils.degreesToRadians;\n\nvar Interpolation = /*#__PURE__*/function () {\n  function Interpolation() {\n    _classCallCheck(this, Interpolation);\n  }\n\n  _createClass(Interpolation, [{\n    key: \"apply\",\n    value: function apply(start, end, a) {\n      return start + (end - start) * this.applyInternal(a);\n    }\n  }]);\n\n  return Interpolation;\n}();\n\nexports.Interpolation = Interpolation;\n\nvar Pow = /*#__PURE__*/function (_Interpolation) {\n  _inherits(Pow, _Interpolation);\n\n  var _super = _createSuper(Pow);\n\n  function Pow(power) {\n    var _this;\n\n    _classCallCheck(this, Pow);\n\n    _this = _super.call(this);\n    _this.power = 2;\n    _this.power = power;\n    return _this;\n  }\n\n  _createClass(Pow, [{\n    key: \"applyInternal\",\n    value: function applyInternal(a) {\n      if (a <= 0.5) return Math.pow(a * 2, this.power) / 2;\n      return Math.pow((a - 1) * 2, this.power) / (this.power % 2 === 0 ? -2 : 2) + 1;\n    }\n  }]);\n\n  return Pow;\n}(Interpolation);\n\nexports.Pow = Pow;\n\nvar PowOut = /*#__PURE__*/function (_Pow) {\n  _inherits(PowOut, _Pow);\n\n  var _super2 = _createSuper(PowOut);\n\n  function PowOut() {\n    _classCallCheck(this, PowOut);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(PowOut, [{\n    key: \"applyInternal\",\n    value: // constructor(power: number) {\n    //   super(power);\n    // }\n    function applyInternal(a) {\n      return Math.pow(a - 1, this.power) * (this.power % 2 === 0 ? -1 : 1) + 1;\n    }\n  }]);\n\n  return PowOut;\n}(Pow);\n\nexports.PowOut = PowOut;\n\nvar Utils = /*#__PURE__*/function () {\n  function Utils() {\n    _classCallCheck(this, Utils);\n  }\n\n  _createClass(Utils, null, [{\n    key: \"arrayCopy\",\n    value: function arrayCopy(source, sourceStart, dest, destStart, numElements) {\n      for (var i = sourceStart, j = destStart; i < sourceStart + numElements; i++, j++) {\n        dest[j] = source[i];\n      }\n    }\n  }, {\n    key: \"arrayFill\",\n    value: function arrayFill(array, fromIndex, toIndex, value) {\n      for (var i = fromIndex; i < toIndex; i++) {\n        array[i] = value;\n      }\n    }\n  }, {\n    key: \"setArraySize\",\n    value: function setArraySize(array, size) {\n      var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var oldSize = array.length;\n      if (oldSize === size) return array;\n      array.length = size;\n\n      if (oldSize < size) {\n        for (var i = oldSize; i < size; i++) {\n          array[i] = value;\n        }\n      }\n\n      return array;\n    }\n  }, {\n    key: \"ensureArrayCapacity\",\n    value: function ensureArrayCapacity(array, size) {\n      var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if (array.length >= size) return array;\n      return Utils.setArraySize(array, size, value);\n    }\n  }, {\n    key: \"newArray\",\n    value: function newArray(size, defaultValue) {\n      var array = new Array(size);\n\n      for (var i = 0; i < size; i++) {\n        array[i] = defaultValue;\n      }\n\n      return array;\n    }\n  }, {\n    key: \"newFloatArray\",\n    value: function newFloatArray(size) {\n      if (Utils.SUPPORTS_TYPED_ARRAYS) return new Float32Array(size);else {\n        var array = new Array(size);\n\n        for (var i = 0; i < array.length; i++) {\n          array[i] = 0;\n        }\n\n        return array;\n      }\n    }\n  }, {\n    key: \"newShortArray\",\n    value: function newShortArray(size) {\n      if (Utils.SUPPORTS_TYPED_ARRAYS) return new Int16Array(size);else {\n        var array = new Array(size);\n\n        for (var i = 0; i < array.length; i++) {\n          array[i] = 0;\n        }\n\n        return array;\n      }\n    }\n  }, {\n    key: \"toFloatArray\",\n    value: function toFloatArray(array) {\n      return Utils.SUPPORTS_TYPED_ARRAYS ? new Float32Array(array) : array;\n    }\n  }, {\n    key: \"toSinglePrecision\",\n    value: function toSinglePrecision(value) {\n      return Utils.SUPPORTS_TYPED_ARRAYS ? Math.fround(value) : value;\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(array, element) {\n      var identity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      for (var i = 0; i < array.length; i++) {\n        if (array[i] === element) return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"enumValue\",\n    value: function enumValue(type, name) {\n      return type[name[0].toUpperCase() + name.slice(1)];\n    }\n  }]);\n\n  return Utils;\n}();\n\nexports.Utils = Utils;\nUtils.SUPPORTS_TYPED_ARRAYS = typeof Float32Array !== 'undefined';\n\nvar Pool = /*#__PURE__*/function () {\n  function Pool(instantiator) {\n    _classCallCheck(this, Pool);\n\n    this.items = new Array();\n\n    if (instantiator) {\n      this.instantiator = instantiator;\n    } else {\n      this.instantiator = function () {\n        return {};\n      };\n    }\n  }\n\n  _createClass(Pool, [{\n    key: \"obtain\",\n    value: function obtain() {\n      var item = this.items.length > 0 ? this.items.pop() : this.instantiator();\n      return item;\n    }\n  }, {\n    key: \"free\",\n    value: function free(item) {\n      if (item === null || item === void 0 ? void 0 : item.reset) {\n        item.reset();\n      }\n\n      this.items.push(item);\n    }\n  }, {\n    key: \"freeAll\",\n    value: function freeAll(items) {\n      for (var i = 0; i < items.length; i++) {\n        this.free(items[i]);\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.items.length = 0;\n    }\n  }]);\n\n  return Pool;\n}();\n\nexports.Pool = Pool;\n\nvar Pools = /*#__PURE__*/function () {\n  function Pools() {\n    _classCallCheck(this, Pools);\n  }\n\n  _createClass(Pools, null, [{\n    key: \"free\",\n    value: function free(name, object) {\n      if (this.pools[name]) {\n        this.pools[name].free(object);\n      }\n    }\n  }, {\n    key: \"freeAll\",\n    value: function freeAll(name, objects) {\n      if (this.pools[name]) {\n        this.pools[name].freeAll(objects);\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(name, instantiator) {\n      if (this.pools[name]) {\n        return this.pools[name];\n      }\n\n      this.pools[name] = new Pool(instantiator);\n      return this.pools[name];\n    }\n  }, {\n    key: \"set\",\n    value: function set(name, pool) {\n      this.pools[name] = pool;\n    }\n  }, {\n    key: \"obtain\",\n    value: function obtain(name, instantiator) {\n      return this.get(name, instantiator).obtain();\n    }\n  }]);\n\n  return Pools;\n}();\n\nexports.Pools = Pools;\nPools.pools = {};\n\nvar TimeKeeper = /*#__PURE__*/function () {\n  function TimeKeeper() {\n    _classCallCheck(this, TimeKeeper);\n\n    this.maxDelta = 0.064;\n    this.framesPerSecond = 0;\n    this.delta = 0;\n    this.totalTime = 0;\n    this.lastTime = Date.now() / 1000;\n    this.frameCount = 0;\n    this.frameTime = 0;\n  }\n\n  _createClass(TimeKeeper, [{\n    key: \"update\",\n    value: function update() {\n      var now = Date.now() / 1000;\n      this.delta = now - this.lastTime;\n      this.frameTime += this.delta;\n      this.totalTime += this.delta;\n      if (this.delta > this.maxDelta) this.delta = this.maxDelta;\n      this.lastTime = now;\n      this.frameCount++;\n\n      if (this.frameTime > 1) {\n        this.framesPerSecond = this.frameCount / this.frameTime;\n        this.frameTime = 0;\n        this.frameCount = 0;\n      }\n    }\n  }]);\n\n  return TimeKeeper;\n}();\n\nexports.TimeKeeper = TimeKeeper;\n\nvar WindowedMean = /*#__PURE__*/function () {\n  function WindowedMean() {\n    var windowSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 32;\n\n    _classCallCheck(this, WindowedMean);\n\n    this.addedValues = 0;\n    this.lastValue = 0;\n    this.mean = 0;\n    this.dirty = true;\n    this.values = new Array(windowSize);\n  }\n\n  _createClass(WindowedMean, [{\n    key: \"hasEnoughData\",\n    value: function hasEnoughData() {\n      return this.addedValues >= this.values.length;\n    }\n  }, {\n    key: \"addValue\",\n    value: function addValue(value) {\n      if (this.addedValues < this.values.length) this.addedValues++;\n      this.values[this.lastValue++] = value;\n      if (this.lastValue > this.values.length - 1) this.lastValue = 0;\n      this.dirty = true;\n    }\n  }, {\n    key: \"getMean\",\n    value: function getMean() {\n      if (this.hasEnoughData()) {\n        if (this.dirty) {\n          var mean = 0;\n\n          for (var i = 0; i < this.values.length; i++) {\n            mean += this.values[i];\n          }\n\n          this.mean = mean / this.values.length;\n          this.dirty = false;\n        }\n\n        return this.mean;\n      }\n\n      return 0;\n    }\n  }]);\n\n  return WindowedMean;\n}();\n\nexports.WindowedMean = WindowedMean;\n\nvar createGameLoop = function createGameLoop(update) {\n  var lastUpdate = Date.now();\n  var fps = 0;\n  var running = true;\n  var requestId;\n  var frameInLastSecond = 0;\n  var elapsed = 0;\n\n  function loop() {\n    if (running) {\n      var delta = Date.now() - lastUpdate;\n      lastUpdate = Date.now();\n      frameInLastSecond++;\n      elapsed += delta;\n\n      if (elapsed >= 1000) {\n        fps = frameInLastSecond;\n        frameInLastSecond = 0;\n        elapsed -= 1000;\n      }\n\n      requestId = requestAnimationFrame(loop);\n      update(delta / 1000);\n    }\n  }\n\n  loop();\n  return {\n    isRunning: function isRunning() {\n      return running;\n    },\n    start: function start() {\n      if (!running) {\n        running = true;\n        loop();\n      }\n    },\n    stop: function stop() {\n      if (requestId) {\n        cancelAnimationFrame(requestId);\n      }\n\n      running = false;\n    },\n    getFps: function getFps() {\n      return fps;\n    }\n  };\n};\n\nexports.createGameLoop = createGameLoop;\n\nvar resizeCanvas = function resizeCanvas(canvas, deviceRatio) {\n  var devicePixelRatio = deviceRatio || window.devicePixelRatio || 1;\n  var displayWidth = canvas.clientWidth * devicePixelRatio;\n  var displayHeight = canvas.clientHeight * devicePixelRatio;\n\n  if (canvas.width !== displayWidth || canvas.height !== displayHeight) {\n    canvas.width = displayWidth;\n    canvas.height = displayHeight;\n  }\n\n  return [displayWidth, displayHeight];\n};\n\nexports.resizeCanvas = resizeCanvas;\n\nvar pointInRect = function pointInRect(pX, pY, x, y, width, height) {\n  return pX > x && pX < x + width && pY > y && pY < y + height;\n};\n\nexports.pointInRect = pointInRect;\n\nvar createStage = function createStage(options) {\n  var defaultOptions = {\n    hidden: false,\n    info: true\n  };\n  options = Object.assign(Object.assign({}, defaultOptions), options);\n  var wrapper = document.createElement('div');\n  wrapper.setAttribute('style', \"position:fixed;top:0;left:0;right:0;bottom:0;\");\n\n  if (options.wrapperClassName) {\n    wrapper.className = options.wrapperClassName;\n  }\n\n  if (options.hidden) {\n    wrapper.style.display = 'none';\n  }\n\n  var canvas = document.createElement('canvas');\n  canvas.setAttribute('style', \"width:100%;height:100%;\");\n  var info = document.createElement('div');\n  info.setAttribute('style', \"position:absolute;top:1em;left:1em;color:white\");\n\n  if (!options.info) {\n    info.style.display = 'none';\n  }\n\n  wrapper.appendChild(canvas);\n  wrapper.appendChild(info);\n  document.body.appendChild(wrapper);\n  return {\n    getCanvas: function getCanvas() {\n      return canvas;\n    },\n    getInfo: function getInfo() {\n      return info;\n    },\n    show: function show() {\n      return wrapper.style.display = 'block';\n    },\n    hide: function hide() {\n      return wrapper.style.display = 'none';\n    },\n    cleanup: function cleanup() {\n      return document.body.removeChild(wrapper);\n    }\n  };\n};\n\nexports.createStage = createStage;\n\nvar copyArray = function copyArray(src, target) {\n  var targetOffset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var srcOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var count = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : target.length;\n\n  for (var i = 0; i < count; i++) {\n    target[targetOffset + i] = src[srcOffset + i];\n  }\n};\n\nexports.copyArray = copyArray;","map":{"version":3,"names":["_a","Object","defineProperty","exports","value","copyArray","createStage","pointInRect","resizeCanvas","createGameLoop","WindowedMean","TimeKeeper","Pools","Pool","Utils","PowOut","Pow","Interpolation","MathUtils","Color","StringSet","IntSet","Align","align","left","right","top","bottom","center","topLeft","topRight","bottomLeft","bottomRight","array","Array","contains","undefined","length","entries","size","values","oldSize","i","n","add","r","g","b","a","clamp","c","hex","charAt","substring","parseInt","color","setFromString","WHITE","RED","GREEN","BLUE","MAGENTA","min","max","degrees","Math","cos","degRad","sin","x","floor","ceil","y","pow","abs","randomTriangularWith","mode","u","random","d","sqrt","PI","PI2","radiansToDegrees","radDeg","degreesToRadians","start","end","applyInternal","power","source","sourceStart","dest","destStart","numElements","j","fromIndex","toIndex","setArraySize","defaultValue","SUPPORTS_TYPED_ARRAYS","Float32Array","Int16Array","fround","element","identity","type","name","toUpperCase","slice","instantiator","items","item","pop","reset","push","free","object","pools","objects","freeAll","pool","get","obtain","maxDelta","framesPerSecond","delta","totalTime","lastTime","Date","now","frameCount","frameTime","windowSize","addedValues","lastValue","mean","dirty","hasEnoughData","update","lastUpdate","fps","running","requestId","frameInLastSecond","elapsed","loop","requestAnimationFrame","isRunning","stop","cancelAnimationFrame","getFps","canvas","deviceRatio","devicePixelRatio","window","displayWidth","clientWidth","displayHeight","clientHeight","width","height","pX","pY","options","defaultOptions","hidden","info","assign","wrapper","document","createElement","setAttribute","wrapperClassName","className","style","display","appendChild","body","getCanvas","getInfo","show","hide","cleanup","removeChild","src","target","targetOffset","srcOffset","count"],"sources":["D:/projects/test-game/node_modules/gdxts/dist/lib/Utils.js"],"sourcesContent":["\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.copyArray = exports.createStage = exports.pointInRect = exports.resizeCanvas = exports.createGameLoop = exports.WindowedMean = exports.TimeKeeper = exports.Pools = exports.Pool = exports.Utils = exports.PowOut = exports.Pow = exports.Interpolation = exports.MathUtils = exports.Color = exports.StringSet = exports.IntSet = exports.Align = void 0;\nclass Align {\n    static isLeft(align) {\n        return (align & this.left) !== 0;\n    }\n    static isRight(align) {\n        return (align & this.right) !== 0;\n    }\n    static isTop(align) {\n        return (align & this.top) !== 0;\n    }\n    static isBottom(align) {\n        return (align & this.bottom) !== 0;\n    }\n    static isCenterVertical(align) {\n        return (align & this.top) === 0 && (align & this.bottom) === 0;\n    }\n    static isCenterHorizontal(align) {\n        return (align & this.left) === 0 && (align & this.right) === 0;\n    }\n}\nexports.Align = Align;\n_a = Align;\nAlign.center = 1 << 0;\nAlign.top = 1 << 1;\nAlign.bottom = 1 << 2;\nAlign.left = 1 << 3;\nAlign.right = 1 << 4;\nAlign.topLeft = _a.top | _a.left;\nAlign.topRight = _a.top | _a.right;\nAlign.bottomLeft = _a.bottom | _a.left;\nAlign.bottomRight = _a.bottom | _a.right;\nclass IntSet {\n    constructor() {\n        this.array = new Array();\n    }\n    add(value) {\n        let contains = this.contains(value);\n        this.array[value | 0] = value | 0;\n        return !contains;\n    }\n    contains(value) {\n        return this.array[value | 0] !== undefined;\n    }\n    remove(value) {\n        this.array[value | 0] = undefined;\n    }\n    clear() {\n        this.array.length = 0;\n    }\n}\nexports.IntSet = IntSet;\nclass StringSet {\n    constructor() {\n        this.entries = {};\n        this.size = 0;\n    }\n    add(value) {\n        let contains = this.entries[value];\n        this.entries[value] = true;\n        if (!contains) {\n            this.size++;\n            return true;\n        }\n        return false;\n    }\n    addAll(values) {\n        let oldSize = this.size;\n        for (var i = 0, n = values.length; i < n; i++)\n            this.add(values[i]);\n        return oldSize !== this.size;\n    }\n    contains(value) {\n        return this.entries[value];\n    }\n    clear() {\n        this.entries = {};\n        this.size = 0;\n    }\n}\nexports.StringSet = StringSet;\nclass Color {\n    constructor(r = 0, g = 0, b = 0, a = 0) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n    set(r, g, b, a) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n        return this.clamp();\n    }\n    setFromColor(c) {\n        this.r = c.r;\n        this.g = c.g;\n        this.b = c.b;\n        this.a = c.a;\n        return this;\n    }\n    setFromString(hex) {\n        hex = hex.charAt(0) === '#' ? hex.substring(1) : hex;\n        this.r = parseInt(hex.substring(0, 2), 16) / 255;\n        this.g = parseInt(hex.substring(2, 4), 16) / 255;\n        this.b = parseInt(hex.substring(4, 6), 16) / 255;\n        this.a = hex.length !== 8 ? 1 : parseInt(hex.substring(6, 8), 16) / 255;\n        return this;\n    }\n    add(r, g, b, a) {\n        this.r += r;\n        this.g += g;\n        this.b += b;\n        this.a += a;\n        return this.clamp();\n    }\n    clamp() {\n        if (this.r < 0)\n            this.r = 0;\n        else if (this.r > 1)\n            this.r = 1;\n        if (this.g < 0)\n            this.g = 0;\n        else if (this.g > 1)\n            this.g = 1;\n        if (this.b < 0)\n            this.b = 0;\n        else if (this.b > 1)\n            this.b = 1;\n        if (this.a < 0)\n            this.a = 0;\n        else if (this.a > 1)\n            this.a = 1;\n        return this;\n    }\n    toIntBits() {\n        return ((255 * this.a) << 24) | ((255 * this.b) << 16) | ((255 * this.g) << 8) | (255 * this.r);\n    }\n    static rgba8888ToColor(color, value) {\n        color.r = ((value & 0xff000000) >>> 24) / 255;\n        color.g = ((value & 0x00ff0000) >>> 16) / 255;\n        color.b = ((value & 0x0000ff00) >>> 8) / 255;\n        color.a = (value & 0x000000ff) / 255;\n    }\n    static rgb888ToColor(color, value) {\n        color.r = ((value & 0x00ff0000) >>> 16) / 255;\n        color.g = ((value & 0x0000ff00) >>> 8) / 255;\n        color.b = (value & 0x000000ff) / 255;\n    }\n    static fromString(hex) {\n        return new Color().setFromString(hex);\n    }\n}\nexports.Color = Color;\nColor.WHITE = new Color(1, 1, 1, 1);\nColor.RED = new Color(1, 0, 0, 1);\nColor.GREEN = new Color(0, 1, 0, 1);\nColor.BLUE = new Color(0, 0, 1, 1);\nColor.MAGENTA = new Color(1, 0, 1, 1);\nclass MathUtils {\n    static clamp(value, min, max) {\n        if (value < min)\n            return min;\n        if (value > max)\n            return max;\n        return value;\n    }\n    static cosDeg(degrees) {\n        return Math.cos(degrees * MathUtils.degRad);\n    }\n    static sinDeg(degrees) {\n        return Math.sin(degrees * MathUtils.degRad);\n    }\n    static signum(value) {\n        return value > 0 ? 1 : value < 0 ? -1 : 0;\n    }\n    static toInt(x) {\n        return x > 0 ? Math.floor(x) : Math.ceil(x);\n    }\n    static cbrt(x) {\n        let y = Math.pow(Math.abs(x), 1 / 3);\n        return x < 0 ? -y : y;\n    }\n    static randomTriangular(min, max) {\n        return MathUtils.randomTriangularWith(min, max, (min + max) * 0.5);\n    }\n    static randomTriangularWith(min, max, mode) {\n        let u = Math.random();\n        let d = max - min;\n        if (u <= (mode - min) / d)\n            return min + Math.sqrt(u * d * (mode - min));\n        return max - Math.sqrt((1 - u) * d * (max - mode));\n    }\n    static isPowerOfTwo(value) {\n        return value && (value & (value - 1)) === 0;\n    }\n}\nexports.MathUtils = MathUtils;\nMathUtils.PI = 3.1415927;\nMathUtils.PI2 = MathUtils.PI * 2;\nMathUtils.radiansToDegrees = 180 / MathUtils.PI;\nMathUtils.radDeg = MathUtils.radiansToDegrees;\nMathUtils.degreesToRadians = MathUtils.PI / 180;\nMathUtils.degRad = MathUtils.degreesToRadians;\nclass Interpolation {\n    apply(start, end, a) {\n        return start + (end - start) * this.applyInternal(a);\n    }\n}\nexports.Interpolation = Interpolation;\nclass Pow extends Interpolation {\n    constructor(power) {\n        super();\n        this.power = 2;\n        this.power = power;\n    }\n    applyInternal(a) {\n        if (a <= 0.5)\n            return Math.pow(a * 2, this.power) / 2;\n        return Math.pow((a - 1) * 2, this.power) / (this.power % 2 === 0 ? -2 : 2) + 1;\n    }\n}\nexports.Pow = Pow;\nclass PowOut extends Pow {\n    // constructor(power: number) {\n    //   super(power);\n    // }\n    applyInternal(a) {\n        return Math.pow(a - 1, this.power) * (this.power % 2 === 0 ? -1 : 1) + 1;\n    }\n}\nexports.PowOut = PowOut;\nclass Utils {\n    static arrayCopy(source, sourceStart, dest, destStart, numElements) {\n        for (let i = sourceStart, j = destStart; i < sourceStart + numElements; i++, j++) {\n            dest[j] = source[i];\n        }\n    }\n    static arrayFill(array, fromIndex, toIndex, value) {\n        for (let i = fromIndex; i < toIndex; i++)\n            array[i] = value;\n    }\n    static setArraySize(array, size, value = 0) {\n        let oldSize = array.length;\n        if (oldSize === size)\n            return array;\n        array.length = size;\n        if (oldSize < size) {\n            for (let i = oldSize; i < size; i++)\n                array[i] = value;\n        }\n        return array;\n    }\n    static ensureArrayCapacity(array, size, value = 0) {\n        if (array.length >= size)\n            return array;\n        return Utils.setArraySize(array, size, value);\n    }\n    static newArray(size, defaultValue) {\n        let array = new Array(size);\n        for (let i = 0; i < size; i++)\n            array[i] = defaultValue;\n        return array;\n    }\n    static newFloatArray(size) {\n        if (Utils.SUPPORTS_TYPED_ARRAYS)\n            return new Float32Array(size);\n        else {\n            let array = new Array(size);\n            for (let i = 0; i < array.length; i++)\n                array[i] = 0;\n            return array;\n        }\n    }\n    static newShortArray(size) {\n        if (Utils.SUPPORTS_TYPED_ARRAYS)\n            return new Int16Array(size);\n        else {\n            let array = new Array(size);\n            for (let i = 0; i < array.length; i++)\n                array[i] = 0;\n            return array;\n        }\n    }\n    static toFloatArray(array) {\n        return Utils.SUPPORTS_TYPED_ARRAYS ? new Float32Array(array) : array;\n    }\n    static toSinglePrecision(value) {\n        return Utils.SUPPORTS_TYPED_ARRAYS ? Math.fround(value) : value;\n    }\n    static contains(array, element, identity = true) {\n        for (var i = 0; i < array.length; i++)\n            if (array[i] === element)\n                return true;\n        return false;\n    }\n    static enumValue(type, name) {\n        return type[name[0].toUpperCase() + name.slice(1)];\n    }\n}\nexports.Utils = Utils;\nUtils.SUPPORTS_TYPED_ARRAYS = typeof Float32Array !== 'undefined';\nclass Pool {\n    constructor(instantiator) {\n        this.items = new Array();\n        if (instantiator) {\n            this.instantiator = instantiator;\n        }\n        else {\n            this.instantiator = () => ({});\n        }\n    }\n    obtain() {\n        const item = this.items.length > 0 ? this.items.pop() : this.instantiator();\n        return item;\n    }\n    free(item) {\n        if (item === null || item === void 0 ? void 0 : item.reset) {\n            item.reset();\n        }\n        this.items.push(item);\n    }\n    freeAll(items) {\n        for (let i = 0; i < items.length; i++)\n            this.free(items[i]);\n    }\n    clear() {\n        this.items.length = 0;\n    }\n}\nexports.Pool = Pool;\nclass Pools {\n    static free(name, object) {\n        if (this.pools[name]) {\n            this.pools[name].free(object);\n        }\n    }\n    static freeAll(name, objects) {\n        if (this.pools[name]) {\n            this.pools[name].freeAll(objects);\n        }\n    }\n    static get(name, instantiator) {\n        if (this.pools[name]) {\n            return this.pools[name];\n        }\n        this.pools[name] = new Pool(instantiator);\n        return this.pools[name];\n    }\n    static set(name, pool) {\n        this.pools[name] = pool;\n    }\n    static obtain(name, instantiator) {\n        return this.get(name, instantiator).obtain();\n    }\n}\nexports.Pools = Pools;\nPools.pools = {};\nclass TimeKeeper {\n    constructor() {\n        this.maxDelta = 0.064;\n        this.framesPerSecond = 0;\n        this.delta = 0;\n        this.totalTime = 0;\n        this.lastTime = Date.now() / 1000;\n        this.frameCount = 0;\n        this.frameTime = 0;\n    }\n    update() {\n        let now = Date.now() / 1000;\n        this.delta = now - this.lastTime;\n        this.frameTime += this.delta;\n        this.totalTime += this.delta;\n        if (this.delta > this.maxDelta)\n            this.delta = this.maxDelta;\n        this.lastTime = now;\n        this.frameCount++;\n        if (this.frameTime > 1) {\n            this.framesPerSecond = this.frameCount / this.frameTime;\n            this.frameTime = 0;\n            this.frameCount = 0;\n        }\n    }\n}\nexports.TimeKeeper = TimeKeeper;\nclass WindowedMean {\n    constructor(windowSize = 32) {\n        this.addedValues = 0;\n        this.lastValue = 0;\n        this.mean = 0;\n        this.dirty = true;\n        this.values = new Array(windowSize);\n    }\n    hasEnoughData() {\n        return this.addedValues >= this.values.length;\n    }\n    addValue(value) {\n        if (this.addedValues < this.values.length)\n            this.addedValues++;\n        this.values[this.lastValue++] = value;\n        if (this.lastValue > this.values.length - 1)\n            this.lastValue = 0;\n        this.dirty = true;\n    }\n    getMean() {\n        if (this.hasEnoughData()) {\n            if (this.dirty) {\n                let mean = 0;\n                for (let i = 0; i < this.values.length; i++)\n                    mean += this.values[i];\n                this.mean = mean / this.values.length;\n                this.dirty = false;\n            }\n            return this.mean;\n        }\n        return 0;\n    }\n}\nexports.WindowedMean = WindowedMean;\nconst createGameLoop = (update) => {\n    let lastUpdate = Date.now();\n    let fps = 0;\n    let running = true;\n    let requestId;\n    let frameInLastSecond = 0;\n    let elapsed = 0;\n    function loop() {\n        if (running) {\n            const delta = Date.now() - lastUpdate;\n            lastUpdate = Date.now();\n            frameInLastSecond++;\n            elapsed += delta;\n            if (elapsed >= 1000) {\n                fps = frameInLastSecond;\n                frameInLastSecond = 0;\n                elapsed -= 1000;\n            }\n            requestId = requestAnimationFrame(loop);\n            update(delta / 1000);\n        }\n    }\n    loop();\n    return {\n        isRunning: () => running,\n        start: () => {\n            if (!running) {\n                running = true;\n                loop();\n            }\n        },\n        stop: () => {\n            if (requestId) {\n                cancelAnimationFrame(requestId);\n            }\n            running = false;\n        },\n        getFps: () => fps\n    };\n};\nexports.createGameLoop = createGameLoop;\nconst resizeCanvas = (canvas, deviceRatio) => {\n    const devicePixelRatio = deviceRatio || window.devicePixelRatio || 1;\n    const displayWidth = canvas.clientWidth * devicePixelRatio;\n    const displayHeight = canvas.clientHeight * devicePixelRatio;\n    if (canvas.width !== displayWidth || canvas.height !== displayHeight) {\n        canvas.width = displayWidth;\n        canvas.height = displayHeight;\n    }\n    return [displayWidth, displayHeight];\n};\nexports.resizeCanvas = resizeCanvas;\nconst pointInRect = (pX, pY, x, y, width, height) => {\n    return pX > x && pX < x + width && pY > y && pY < y + height;\n};\nexports.pointInRect = pointInRect;\nconst createStage = (options) => {\n    const defaultOptions = {\n        hidden: false,\n        info: true\n    };\n    options = Object.assign(Object.assign({}, defaultOptions), options);\n    const wrapper = document.createElement('div');\n    wrapper.setAttribute('style', `position:fixed;top:0;left:0;right:0;bottom:0;`);\n    if (options.wrapperClassName) {\n        wrapper.className = options.wrapperClassName;\n    }\n    if (options.hidden) {\n        wrapper.style.display = 'none';\n    }\n    const canvas = document.createElement('canvas');\n    canvas.setAttribute('style', `width:100%;height:100%;`);\n    const info = document.createElement('div');\n    info.setAttribute('style', `position:absolute;top:1em;left:1em;color:white`);\n    if (!options.info) {\n        info.style.display = 'none';\n    }\n    wrapper.appendChild(canvas);\n    wrapper.appendChild(info);\n    document.body.appendChild(wrapper);\n    return {\n        getCanvas: () => canvas,\n        getInfo: () => info,\n        show: () => (wrapper.style.display = 'block'),\n        hide: () => (wrapper.style.display = 'none'),\n        cleanup: () => document.body.removeChild(wrapper)\n    };\n};\nexports.createStage = createStage;\nconst copyArray = (src, target, targetOffset = 0, srcOffset = 0, count = target.length) => {\n    for (let i = 0; i < count; i++) {\n        target[targetOffset + i] = src[srcOffset + i];\n    }\n};\nexports.copyArray = copyArray;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}