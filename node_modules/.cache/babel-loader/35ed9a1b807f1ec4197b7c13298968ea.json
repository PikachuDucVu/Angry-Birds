{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\n\nvar _classCallCheck = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar _get = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/get.js\").default;\n\nvar _getPrototypeOf = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/getPrototypeOf.js\").default;\n\nvar _inherits = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/inherits.js\").default;\n\nvar _createSuper = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/createSuper.js\").default;\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EntityIteratingSystem = void 0;\n\nvar System_1 = require(\"./System\");\n\nvar fastbitset_1 = __importDefault(require(\"fastbitset\"));\n\nvar EntityIteratingSystem = /*#__PURE__*/function (_System_1$System) {\n  _inherits(EntityIteratingSystem, _System_1$System);\n\n  var _super = _createSuper(EntityIteratingSystem);\n\n  function EntityIteratingSystem(types) {\n    var _this;\n\n    _classCallCheck(this, EntityIteratingSystem);\n\n    _this = _super.call(this);\n    _this.componentBits = new fastbitset_1.default();\n    _this.types = types;\n    return _this;\n  }\n\n  _createClass(EntityIteratingSystem, [{\n    key: \"setWorld\",\n    value: function setWorld(world) {\n      _get(_getPrototypeOf(EntityIteratingSystem.prototype), \"setWorld\", this).call(this, world);\n\n      var _iterator = _createForOfIteratorHelper(this.types),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var type = _step.value;\n          this.componentBits.add(world.getComponentIndex(type));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"process\",\n    value: function process() {\n      this.begin();\n      this.world.getEntities(this.componentBits, this.processEntity.bind(this));\n      this.end();\n    }\n  }, {\n    key: \"begin\",\n    value: function begin() {}\n  }, {\n    key: \"end\",\n    value: function end() {}\n  }]);\n\n  return EntityIteratingSystem;\n}(System_1.System);\n\nexports.EntityIteratingSystem = EntityIteratingSystem;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","EntityIteratingSystem","System_1","require","fastbitset_1","types","componentBits","default","world","type","add","getComponentIndex","begin","getEntities","processEntity","bind","end","System"],"sources":["D:/projects/test-game/node_modules/flat-ecs/lib/EntityIteratingSystem.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EntityIteratingSystem = void 0;\nconst System_1 = require(\"./System\");\nconst fastbitset_1 = __importDefault(require(\"fastbitset\"));\nclass EntityIteratingSystem extends System_1.System {\n    constructor(types) {\n        super();\n        this.componentBits = new fastbitset_1.default();\n        this.types = types;\n    }\n    setWorld(world) {\n        super.setWorld(world);\n        for (let type of this.types) {\n            this.componentBits.add(world.getComponentIndex(type));\n        }\n    }\n    process() {\n        this.begin();\n        this.world.getEntities(this.componentBits, this.processEntity.bind(this));\n        this.end();\n    }\n    begin() { }\n    end() { }\n}\nexports.EntityIteratingSystem = EntityIteratingSystem;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;IAAE,WAAWA;EAAb,CAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,qBAAR,GAAgC,KAAK,CAArC;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAMC,YAAY,GAAGV,eAAe,CAACS,OAAO,CAAC,YAAD,CAAR,CAApC;;IACMF,qB;;;;;EACF,+BAAYI,KAAZ,EAAmB;IAAA;;IAAA;;IACf;IACA,MAAKC,aAAL,GAAqB,IAAIF,YAAY,CAACG,OAAjB,EAArB;IACA,MAAKF,KAAL,GAAaA,KAAb;IAHe;EAIlB;;;;WACD,kBAASG,KAAT,EAAgB;MACZ,oFAAeA,KAAf;;MADY,2CAEK,KAAKH,KAFV;MAAA;;MAAA;QAEZ,oDAA6B;UAAA,IAApBI,IAAoB;UACzB,KAAKH,aAAL,CAAmBI,GAAnB,CAAuBF,KAAK,CAACG,iBAAN,CAAwBF,IAAxB,CAAvB;QACH;MAJW;QAAA;MAAA;QAAA;MAAA;IAKf;;;WACD,mBAAU;MACN,KAAKG,KAAL;MACA,KAAKJ,KAAL,CAAWK,WAAX,CAAuB,KAAKP,aAA5B,EAA2C,KAAKQ,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAA3C;MACA,KAAKC,GAAL;IACH;;;WACD,iBAAQ,CAAG;;;WACX,eAAM,CAAG;;;;EAlBuBd,QAAQ,CAACe,M;;AAoB7ClB,OAAO,CAACE,qBAAR,GAAgCA,qBAAhC"},"metadata":{},"sourceType":"script"}