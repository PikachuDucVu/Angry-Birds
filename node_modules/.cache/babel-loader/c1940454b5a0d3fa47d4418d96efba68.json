{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\n\nvar _regeneratorRuntime = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\n\nvar _createForOfIteratorHelper = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\n\nvar _classCallCheck = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"D:/projects/test-game/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AssetManager = void 0;\n\nvar BitmapFont_1 = require(\"./BitmapFont\");\n\nvar Texture_1 = require(\"./Texture\");\n\nvar TextureAtlas_1 = require(\"./TextureAtlas\");\n\nvar AssetManager = /*#__PURE__*/function () {\n  function AssetManager(gl) {\n    _classCallCheck(this, AssetManager);\n\n    this.promises = [];\n    this.atlases = new Map();\n    this.textures = new Map();\n    this.jsonData = new Map();\n    this.binaryData = new Map();\n    this.done = 0;\n    this.listeners = [];\n    this.fonts = new Map();\n    this.gl = gl;\n  }\n\n  _createClass(AssetManager, [{\n    key: \"addListener\",\n    value: function addListener(handler) {\n      this.listeners.push(handler);\n    }\n  }, {\n    key: \"reportDone\",\n    value: function reportDone() {\n      this.done++;\n\n      var _iterator = _createForOfIteratorHelper(this.listeners),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var handler = _step.value;\n          handler(this.done / this.getTotal() * 100, this.done >= this.getTotal());\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"loadAtlas\",\n    value: function loadAtlas(path, name) {\n      var _this = this;\n\n      var promise = TextureAtlas_1.TextureAtlas.load(this.gl, path, {}).then(function (atlas) {\n        _this.atlases.set(name, atlas);\n\n        _this.reportDone();\n\n        return atlas;\n      });\n      this.promises.push(promise);\n      return promise;\n    }\n  }, {\n    key: \"getAtlas\",\n    value: function getAtlas(name) {\n      return this.atlases.get(name);\n    }\n  }, {\n    key: \"loadJsonData\",\n    value: function loadJsonData(path, name) {\n      var _this2 = this;\n\n      var promise = fetch(path).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this2.jsonData.set(name, json);\n\n        _this2.reportDone();\n\n        return json;\n      });\n      this.promises.push(promise);\n      return promise;\n    }\n  }, {\n    key: \"getJsonData\",\n    value: function getJsonData(name) {\n      return this.jsonData.get(name);\n    }\n  }, {\n    key: \"loadBinaryData\",\n    value: function loadBinaryData(path, name) {\n      var _this3 = this;\n\n      var promise = fetch(path).then(function (res) {\n        return res.arrayBuffer();\n      }).then(function (buffer) {\n        _this3.binaryData.set(name, buffer);\n\n        _this3.reportDone();\n\n        return buffer;\n      });\n      this.promises.push(promise);\n      return promise;\n    }\n  }, {\n    key: \"getBinaryData\",\n    value: function getBinaryData(name) {\n      return this.binaryData.get(name);\n    }\n  }, {\n    key: \"loadFont\",\n    value: function loadFont(path, name) {\n      var _this4 = this;\n\n      var flip = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var promise = BitmapFont_1.BitmapFont.load(this.gl, path, flip).then(function (font) {\n        _this4.fonts.set(name, font);\n\n        _this4.reportDone();\n\n        return font;\n      });\n      this.promises.push(promise);\n      return promise;\n    }\n  }, {\n    key: \"getFont\",\n    value: function getFont(name) {\n      return this.fonts.get(name);\n    }\n  }, {\n    key: \"loadTexture\",\n    value: function loadTexture(path, name) {\n      var _this5 = this;\n\n      var promise = Texture_1.Texture.load(this.gl, path).then(function (texture) {\n        _this5.textures.set(name, texture);\n\n        _this5.reportDone();\n\n        return texture;\n      });\n      this.promises.push(promise);\n      return promise;\n    }\n  }, {\n    key: \"getTexture\",\n    value: function getTexture(name) {\n      return this.textures.get(name);\n    }\n  }, {\n    key: \"finishLoading\",\n    value: function finishLoading() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Promise.all(this.promises);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"getDone\",\n    value: function getDone() {\n      return this.done;\n    }\n  }, {\n    key: \"getTotal\",\n    value: function getTotal() {\n      return this.promises.length;\n    }\n  }, {\n    key: \"disposeAll\",\n    value: function disposeAll() {\n      var _this6 = this;\n\n      var atlasKeys = _toConsumableArray(this.atlases.keys());\n\n      atlasKeys.forEach(function (key) {\n        var _a;\n\n        var textureRegions = ((_a = _this6.atlases.get(key)) === null || _a === void 0 ? void 0 : _a.getRegions()) || [];\n        textureRegions.forEach(function (texture) {\n          var _a;\n\n          (_a = texture.texture) === null || _a === void 0 ? void 0 : _a.destroy();\n        });\n\n        _this6.atlases.delete(key);\n      });\n\n      var localTextureKeys = _toConsumableArray(this.textures.keys());\n\n      localTextureKeys.forEach(function (key) {\n        var _a;\n\n        (_a = _this6.textures.get(key)) === null || _a === void 0 ? void 0 : _a.destroy();\n\n        _this6.textures.delete(key);\n      });\n\n      var fontMapKeys = _toConsumableArray(this.fonts.keys());\n\n      fontMapKeys.forEach(function (key) {\n        var _a;\n\n        var textureRegions = ((_a = _this6.fonts.get(key)) === null || _a === void 0 ? void 0 : _a.getRegions()) || [];\n        textureRegions.forEach(function (texture) {\n          var _a;\n\n          (_a = texture.texture) === null || _a === void 0 ? void 0 : _a.destroy();\n        });\n\n        _this6.fonts.delete(key);\n      });\n    }\n  }]);\n\n  return AssetManager;\n}();\n\nexports.AssetManager = AssetManager;\nexports.default = AssetManager;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","AssetManager","BitmapFont_1","require","Texture_1","TextureAtlas_1","gl","promises","atlases","Map","textures","jsonData","binaryData","listeners","fonts","handler","push","getTotal","path","name","promise","TextureAtlas","load","atlas","set","reportDone","get","fetch","res","json","arrayBuffer","buffer","flip","BitmapFont","font","Texture","texture","all","length","atlasKeys","keys","forEach","key","_a","textureRegions","getRegions","destroy","delete","localTextureKeys","fontMapKeys","default"],"sources":["D:/projects/test-game/node_modules/gdxts/dist/lib/AssetManager.js"],"sourcesContent":["\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AssetManager = void 0;\r\nconst BitmapFont_1 = require(\"./BitmapFont\");\r\nconst Texture_1 = require(\"./Texture\");\r\nconst TextureAtlas_1 = require(\"./TextureAtlas\");\r\nclass AssetManager {\r\n    constructor(gl) {\r\n        this.promises = [];\r\n        this.atlases = new Map();\r\n        this.textures = new Map();\r\n        this.jsonData = new Map();\r\n        this.binaryData = new Map();\r\n        this.done = 0;\r\n        this.listeners = [];\r\n        this.fonts = new Map();\r\n        this.gl = gl;\r\n    }\r\n    addListener(handler) {\r\n        this.listeners.push(handler);\r\n    }\r\n    reportDone() {\r\n        this.done++;\r\n        for (const handler of this.listeners) {\r\n            handler((this.done / this.getTotal()) * 100, this.done >= this.getTotal());\r\n        }\r\n    }\r\n    loadAtlas(path, name) {\r\n        const promise = TextureAtlas_1.TextureAtlas.load(this.gl, path, {}).then(atlas => {\r\n            this.atlases.set(name, atlas);\r\n            this.reportDone();\r\n            return atlas;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getAtlas(name) {\r\n        return this.atlases.get(name);\r\n    }\r\n    loadJsonData(path, name) {\r\n        const promise = fetch(path)\r\n            .then(res => res.json())\r\n            .then(json => {\r\n            this.jsonData.set(name, json);\r\n            this.reportDone();\r\n            return json;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getJsonData(name) {\r\n        return this.jsonData.get(name);\r\n    }\r\n    loadBinaryData(path, name) {\r\n        const promise = fetch(path)\r\n            .then(res => res.arrayBuffer())\r\n            .then(buffer => {\r\n            this.binaryData.set(name, buffer);\r\n            this.reportDone();\r\n            return buffer;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getBinaryData(name) {\r\n        return this.binaryData.get(name);\r\n    }\r\n    loadFont(path, name, flip = false) {\r\n        const promise = BitmapFont_1.BitmapFont.load(this.gl, path, flip).then(font => {\r\n            this.fonts.set(name, font);\r\n            this.reportDone();\r\n            return font;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getFont(name) {\r\n        return this.fonts.get(name);\r\n    }\r\n    loadTexture(path, name) {\r\n        const promise = Texture_1.Texture.load(this.gl, path).then(texture => {\r\n            this.textures.set(name, texture);\r\n            this.reportDone();\r\n            return texture;\r\n        });\r\n        this.promises.push(promise);\r\n        return promise;\r\n    }\r\n    getTexture(name) {\r\n        return this.textures.get(name);\r\n    }\r\n    finishLoading() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield Promise.all(this.promises);\r\n        });\r\n    }\r\n    getDone() {\r\n        return this.done;\r\n    }\r\n    getTotal() {\r\n        return this.promises.length;\r\n    }\r\n    disposeAll() {\r\n        const atlasKeys = [...this.atlases.keys()];\r\n        atlasKeys.forEach(key => {\r\n            var _a;\r\n            const textureRegions = ((_a = this.atlases.get(key)) === null || _a === void 0 ? void 0 : _a.getRegions()) || [];\r\n            textureRegions.forEach(texture => {\r\n                var _a;\r\n                (_a = texture.texture) === null || _a === void 0 ? void 0 : _a.destroy();\r\n            });\r\n            this.atlases.delete(key);\r\n        });\r\n        const localTextureKeys = [...this.textures.keys()];\r\n        localTextureKeys.forEach(key => {\r\n            var _a;\r\n            (_a = this.textures.get(key)) === null || _a === void 0 ? void 0 : _a.destroy();\r\n            this.textures.delete(key);\r\n        });\r\n        const fontMapKeys = [...this.fonts.keys()];\r\n        fontMapKeys.forEach(key => {\r\n            var _a;\r\n            const textureRegions = ((_a = this.fonts.get(key)) === null || _a === void 0 ? void 0 : _a.getRegions()) || [];\r\n            textureRegions.forEach(texture => {\r\n                var _a;\r\n                (_a = texture.texture) === null || _a === void 0 ? void 0 : _a.destroy();\r\n            });\r\n            this.fonts.delete(key);\r\n        });\r\n    }\r\n}\r\nexports.AssetManager = AssetManager;\r\nexports.default = AssetManager;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}