{"ast":null,"code":"import _initializerDefineProperty from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";import _classCallCheck from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _applyDecoratedDescriptor from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";import _initializerWarningHelper from\"D:/projects/test-game/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";var _dec,_dec2,_dec3,_dec4,_dec5,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5;import{System,Inject}from\"flat-ecs\";import{Constants}from\"../Constants\";export var BirdRenderSystem=(_dec=Inject(\"gl\"),_dec2=Inject(\"assetManager\"),_dec3=Inject(\"batch\"),_dec4=Inject(\"bird\"),_dec5=Inject(\"specialSkillOfYellowBird\"),(_class=/*#__PURE__*/function(_System){_inherits(BirdRenderSystem,_System);var _super=_createSuper(BirdRenderSystem);function BirdRenderSystem(){var _this;_classCallCheck(this,BirdRenderSystem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.birdAsset=void 0;_this.yellowBird=void 0;_this.rotation=0;_initializerDefineProperty(_this,\"gl\",_descriptor,_assertThisInitialized(_this));_initializerDefineProperty(_this,\"assetManager\",_descriptor2,_assertThisInitialized(_this));_initializerDefineProperty(_this,\"batch\",_descriptor3,_assertThisInitialized(_this));_initializerDefineProperty(_this,\"bird\",_descriptor4,_assertThisInitialized(_this));_initializerDefineProperty(_this,\"specialSkillOfYellowBird\",_descriptor5,_assertThisInitialized(_this));return _this;}_createClass(BirdRenderSystem,[{key:\"initialized\",value:function initialized(){this.birdAsset=this.assetManager.getTexture(\"birdAsset\");this.yellowBird=this.assetManager.getTexture(\"yellowBird\");}},{key:\"process\",value:function process(){this.batch.begin();for(var i=0;i<this.bird.length;i++){this.batch.draw(this.bird[i].GetUserData()===\"RedBird\"?this.birdAsset:this.yellowBird,this.bird[i].GetPosition().x*Constants.METER_TO_WORLD-25,this.bird[i].GetPosition().y*Constants.METER_TO_WORLD-25,Constants.BOX_SIZE*Constants.METER_TO_WORLD,Constants.BOX_SIZE*Constants.METER_TO_WORLD);}this.batch.end();this.batch.begin();for(var _i=0;_i<this.specialSkillOfYellowBird.length;_i++){this.batch.draw(this.yellowBird,this.specialSkillOfYellowBird[_i].GetPosition().x*Constants.METER_TO_WORLD-25,this.specialSkillOfYellowBird[_i].GetPosition().y*Constants.METER_TO_WORLD-25,Constants.BOX_SIZE*Constants.METER_TO_WORLD,Constants.BOX_SIZE*Constants.METER_TO_WORLD);}this.batch.end();}}]);return BirdRenderSystem;}(System),(_descriptor=_applyDecoratedDescriptor(_class.prototype,\"gl\",[_dec],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,\"assetManager\",[_dec2],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,\"batch\",[_dec3],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,\"bird\",[_dec4],{configurable:true,enumerable:true,writable:true,initializer:null}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,\"specialSkillOfYellowBird\",[_dec5],{configurable:true,enumerable:true,writable:true,initializer:null})),_class));","map":{"version":3,"names":["System","Inject","Constants","BirdRenderSystem","birdAsset","yellowBird","rotation","assetManager","getTexture","batch","begin","i","bird","length","draw","GetUserData","GetPosition","x","METER_TO_WORLD","y","BOX_SIZE","end","specialSkillOfYellowBird"],"sources":["D:/projects/test-game/src/system/BirdRenderSystem.ts"],"sourcesContent":["import { b2Body } from \"box2d.ts\";\r\nimport { System, Inject } from \"flat-ecs\";\r\nimport { AssetManager, PolygonBatch, Texture } from \"gdxts\";\r\nimport { Constants } from \"../Constants\";\r\n\r\nexport class BirdRenderSystem extends System {\r\n  birdAsset: Texture;\r\n  yellowBird: Texture;\r\n  rotation = 0;\r\n\r\n  @Inject(\"gl\") gl: WebGLRenderingContext;\r\n  @Inject(\"assetManager\") assetManager: AssetManager;\r\n  @Inject(\"batch\") batch: PolygonBatch;\r\n  @Inject(\"bird\") bird: b2Body[];\r\n  @Inject(\"specialSkillOfYellowBird\") specialSkillOfYellowBird: b2Body[];\r\n\r\n  initialized(): void {\r\n    this.birdAsset = this.assetManager.getTexture(\"birdAsset\") as Texture;\r\n    this.yellowBird = this.assetManager.getTexture(\"yellowBird\") as Texture;\r\n  }\r\n  process(): void {\r\n    this.batch.begin();\r\n    for (let i = 0; i < this.bird.length; i++) {\r\n      this.batch.draw(\r\n        this.bird[i].GetUserData() === \"RedBird\"\r\n          ? this.birdAsset\r\n          : this.yellowBird,\r\n        this.bird[i].GetPosition().x * Constants.METER_TO_WORLD - 25,\r\n        this.bird[i].GetPosition().y * Constants.METER_TO_WORLD - 25,\r\n        Constants.BOX_SIZE * Constants.METER_TO_WORLD,\r\n        Constants.BOX_SIZE * Constants.METER_TO_WORLD\r\n      );\r\n    }\r\n    this.batch.end();\r\n    this.batch.begin();\r\n    for (let i = 0; i < this.specialSkillOfYellowBird.length; i++) {\r\n      this.batch.draw(\r\n        this.yellowBird,\r\n        this.specialSkillOfYellowBird[i].GetPosition().x *\r\n          Constants.METER_TO_WORLD -\r\n          25,\r\n        this.specialSkillOfYellowBird[i].GetPosition().y *\r\n          Constants.METER_TO_WORLD -\r\n          25,\r\n        Constants.BOX_SIZE * Constants.METER_TO_WORLD,\r\n        Constants.BOX_SIZE * Constants.METER_TO_WORLD\r\n      );\r\n    }\r\n    this.batch.end();\r\n  }\r\n}\r\n"],"mappings":"ogCACA,OAASA,MAAT,CAAiBC,MAAjB,KAA+B,UAA/B,CAEA,OAASC,SAAT,KAA0B,cAA1B,CAEA,UAAaC,iBAAb,OAKGF,MAAM,CAAC,IAAD,CALT,OAMGA,MAAM,CAAC,cAAD,CANT,OAOGA,MAAM,CAAC,OAAD,CAPT,OAQGA,MAAM,CAAC,MAAD,CART,OASGA,MAAM,CAAC,0BAAD,CATT,qWACEG,SADF,cAEEC,UAFF,cAGEC,QAHF,CAGa,CAHb,qgBAWE,sBAAoB,CAClB,KAAKF,SAAL,CAAiB,KAAKG,YAAL,CAAkBC,UAAlB,CAA6B,WAA7B,CAAjB,CACA,KAAKH,UAAL,CAAkB,KAAKE,YAAL,CAAkBC,UAAlB,CAA6B,YAA7B,CAAlB,CACD,CAdH,uBAeE,kBAAgB,CACd,KAAKC,KAAL,CAAWC,KAAX,GACA,IAAK,GAAIC,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,KAAKC,IAAL,CAAUC,MAA9B,CAAsCF,CAAC,EAAvC,CAA2C,CACzC,KAAKF,KAAL,CAAWK,IAAX,CACE,KAAKF,IAAL,CAAUD,CAAV,EAAaI,WAAb,KAA+B,SAA/B,CACI,KAAKX,SADT,CAEI,KAAKC,UAHX,CAIE,KAAKO,IAAL,CAAUD,CAAV,EAAaK,WAAb,GAA2BC,CAA3B,CAA+Bf,SAAS,CAACgB,cAAzC,CAA0D,EAJ5D,CAKE,KAAKN,IAAL,CAAUD,CAAV,EAAaK,WAAb,GAA2BG,CAA3B,CAA+BjB,SAAS,CAACgB,cAAzC,CAA0D,EAL5D,CAMEhB,SAAS,CAACkB,QAAV,CAAqBlB,SAAS,CAACgB,cANjC,CAOEhB,SAAS,CAACkB,QAAV,CAAqBlB,SAAS,CAACgB,cAPjC,EASD,CACD,KAAKT,KAAL,CAAWY,GAAX,GACA,KAAKZ,KAAL,CAAWC,KAAX,GACA,IAAK,GAAIC,GAAC,CAAG,CAAb,CAAgBA,EAAC,CAAG,KAAKW,wBAAL,CAA8BT,MAAlD,CAA0DF,EAAC,EAA3D,CAA+D,CAC7D,KAAKF,KAAL,CAAWK,IAAX,CACE,KAAKT,UADP,CAEE,KAAKiB,wBAAL,CAA8BX,EAA9B,EAAiCK,WAAjC,GAA+CC,CAA/C,CACEf,SAAS,CAACgB,cADZ,CAEE,EAJJ,CAKE,KAAKI,wBAAL,CAA8BX,EAA9B,EAAiCK,WAAjC,GAA+CG,CAA/C,CACEjB,SAAS,CAACgB,cADZ,CAEE,EAPJ,CAQEhB,SAAS,CAACkB,QAAV,CAAqBlB,SAAS,CAACgB,cARjC,CASEhB,SAAS,CAACkB,QAAV,CAAqBlB,SAAS,CAACgB,cATjC,EAWD,CACD,KAAKT,KAAL,CAAWY,GAAX,GACD,CA5CH,8BAAsCrB,MAAtC"},"metadata":{},"sourceType":"module"}