{"ast":null,"code":"import { b2BodyDef, b2BodyType, b2CircleShape, b2ContactListener, b2FixtureDef, b2PolygonShape, b2World } from \"box2d.ts\";\nimport { Animation, Color, createGameLoop, createStage, createViewport, InputEvent, PlayMode, PolygonBatch, ShapeRenderer, Texture, TextureRegion, Vector2, ViewportInputHandler } from \"gdxts\";\nconst WORLD_WIDTH = 1000;\nconst WORLD_HEIGHT = 500;\nconst contactListener = new b2ContactListener();\n\nconst createWall = (world, x, y, width, height) => {\n  const bodyDef = new b2BodyDef();\n  bodyDef.type = b2BodyType.b2_staticBody;\n  bodyDef.position.Set(x + width / 2, y + height / 2);\n  const body = world.CreateBody(bodyDef);\n  const shape = new b2PolygonShape();\n  shape.SetAsBox(width / 2, height / 2);\n  body.SetUserData(\"ground\");\n  body.CreateFixture(shape);\n};\n\nconst createBall = (world, x, y, radius) => {\n  const bodyDef = new b2BodyDef();\n  bodyDef.type = b2BodyType.b2_staticBody;\n  bodyDef.position.Set(x + radius / 2, y + radius / 2);\n  const circle = new b2CircleShape();\n  circle.m_radius = radius;\n  const fixtureDef = new b2FixtureDef();\n  fixtureDef.shape = circle; // fixtureDef.density = 1;\n\n  fixtureDef.restitution = 0.5; // bounce ball\n\n  fixtureDef.friction = 1;\n  fixtureDef.shape = circle;\n  fixtureDef.userData = \"ballFixture\";\n  const body = world.CreateBody(bodyDef);\n  body.CreateFixture(fixtureDef);\n  body.SetUserData(\"ball\");\n  return body;\n};\n\nconst createBox = (world, x, y, width, height, userData) => {\n  const bodyDef = new b2BodyDef();\n  bodyDef.type = b2BodyType.b2_dynamicBody;\n  bodyDef.position.Set(x + width / 2, y + height / 2);\n  const body = world.CreateBody(bodyDef);\n  const shape = new b2PolygonShape();\n  shape.SetAsBox(width * 0.5, height * 0.5);\n  body.SetUserData(userData);\n  body.CreateFixture(shape);\n  return body;\n};\n\nconst WALL_COLOR = new Color(0.5, 0.5, 0.5, 1);\nconst METER_TO_WORLD = 100;\nexport const init = async () => {\n  const stage = createStage();\n  const canvas = stage.getCanvas();\n  const viewport = createViewport(canvas, WORLD_WIDTH, WORLD_HEIGHT);\n  const gl = viewport.getContext();\n  const camera = viewport.getCamera();\n  const batch = new PolygonBatch(gl);\n  camera.setYDown(true);\n  batch.setYDown(true);\n  const pig = await Texture.load(gl, \"./pig.png\");\n  const bird = await Texture.load(gl, \"./bird.png\");\n  const slingShot = await Texture.load(gl, \"./slingshot.png\");\n  const background = await Texture.load(gl, \"./background.png\");\n  const mapData = await fetch(\"./untitled.tmj\").then(res => res.json());\n  const wallData = mapData.layers.find(l => l.name === \"walls\").objects;\n  const shapeRenderer = new ShapeRenderer(gl);\n  const world = new b2World({\n    x: 0,\n    y: 10\n  });\n  const boxTexture = await Texture.load(gl, \"./testAnimation1.png\");\n  const regions = TextureRegion.splitTexture(boxTexture, 1, 4);\n  let frameDuration = 0.4;\n  const testAnimation = new Animation(regions.slice(0, 4), frameDuration);\n  let isTouchedBox0 = false;\n  let frameBox0 = 0;\n  let frameBox1 = 0;\n  let frameBox2 = 0;\n  let frameBox3 = 0;\n  let frameBox4 = 0;\n  let frameBox5 = 0;\n  let regionBox0 = testAnimation.getKeyFrame(frameBox0, PlayMode.NORMAL);\n  let regionBox1 = testAnimation.getKeyFrame(frameBox1, PlayMode.NORMAL);\n  let regionBox2 = testAnimation.getKeyFrame(frameBox2, PlayMode.NORMAL);\n  let regionBox3 = testAnimation.getKeyFrame(frameBox3, PlayMode.NORMAL);\n  let regionBox4 = testAnimation.getKeyFrame(frameBox4, PlayMode.NORMAL);\n  let regionBox5 = testAnimation.getKeyFrame(frameBox5, PlayMode.NORMAL);\n\n  for (let wall of wallData) {\n    createWall(world, wall.x / METER_TO_WORLD, wall.y / METER_TO_WORLD, wall.width / METER_TO_WORLD, wall.height / METER_TO_WORLD);\n  }\n\n  const BOX_SIZE = 0.5;\n  const PIG_SIZE = 0.3;\n  const pigs = [];\n  const boxes = [];\n  let pigNumber = 0;\n  let boxNumber = 0;\n  let test1 = 6;\n  let test2 = 4.3;\n\n  for (let i = 0; i < 3; i++) {\n    test1 = 6 + i * 0.4;\n\n    for (let j = 0; j <= i; j++) {\n      boxes.push(createBox(world, test1 += 0.51, test2 -= 0.55, BOX_SIZE, BOX_SIZE, \"box \" + boxNumber++));\n    }\n\n    if (i < 2) {\n      pigs.push(createBox(world, test1 + 0.5, test2 - 0.25, PIG_SIZE, PIG_SIZE, \"pig\" + \" \" + pigNumber++));\n    }\n  }\n\n  const BALL_RADIUS = 0.2;\n  let ball = createBall(world, 2, 3.5, BALL_RADIUS);\n  let hasBirdOnSlingShot = true;\n  const originPosition = new Vector2(ball.GetPosition().x * METER_TO_WORLD, ball.GetPosition().y * METER_TO_WORLD);\n  let slingPos = new Vector2(ball.GetPosition().x * METER_TO_WORLD, ball.GetPosition().y * METER_TO_WORLD);\n  const inputHandler = new ViewportInputHandler(viewport);\n  inputHandler.addEventListener(InputEvent.TouchMove, () => {\n    if (inputHandler.isTouched()) {\n      slingPos = inputHandler.getTouchedWorldCoord();\n    }\n  });\n  inputHandler.addEventListener(InputEvent.TouchEnd, () => {\n    if (hasBirdOnSlingShot) {\n      ball.SetType(b2BodyType.b2_dynamicBody);\n      ball.ApplyLinearImpulseToCenter({\n        x: 7 * (originPosition.x - slingPos.x) / METER_TO_WORLD,\n        y: 7 * (originPosition.y - slingPos.y) / METER_TO_WORLD\n      }, true);\n      hasBirdOnSlingShot = false;\n    }\n  });\n  let frame = 0;\n  let delayTime = 0;\n  window.addEventListener(\"keydown\", function (e) {\n    if (!hasBirdOnSlingShot && e.key === \"r\") {\n      world.DestroyBody(ball);\n      ball = createBall(world, 2, 3.5, BALL_RADIUS);\n      hasBirdOnSlingShot = true;\n    }\n  });\n  gl.clearColor(0, 0, 0, 1);\n  let damageBoxes = 0;\n\n  contactListener.BeginContact = function (contact) {\n    if (delayTime >= 1) {\n      switch (contact.GetFixtureA().GetBody().GetUserData()) {\n        case \"box \" + 0:\n          console.log(\"box 0\");\n          console.log(frameBox0);\n          isTouchedBox0 = true;\n          break;\n\n        case \"box \" + 1:\n          console.log(\"box 1\");\n          break;\n\n        case \"box \" + 2:\n          console.log(\"box 2\");\n          frameBox2++;\n          break;\n\n        case \"box \" + 3:\n          console.log(\"box 3\");\n          break;\n\n        case \"box \" + 4:\n          console.log(\"box 4\");\n          break;\n\n        case \"box \" + 5:\n          console.log(\"box 5\");\n          break;\n\n        default:\n          console.log(\"deocogi\");\n          break;\n      }\n\n      switch (contact.GetFixtureB().GetBody().GetUserData()) {\n        case \"box \" + 0:\n          console.warn(\"box2 0\");\n          break;\n\n        case \"box \" + 1:\n          console.warn(\"box2 1\");\n          break;\n\n        case \"box \" + 2:\n          console.warn(\"box2 2\");\n          break;\n\n        case \"box \" + 3:\n          console.warn(\"box2 3\");\n          break;\n\n        case \"box \" + 4:\n          console.warn(\"box2 4\");\n          break;\n\n        case \"box \" + 5:\n          console.warn(\"box2 5\");\n          break;\n\n        default:\n          console.log(\"deocogi\");\n          break;\n      }\n    } // console.log(\n    //   contact.GetFixtureA().GetBody().GetUserData(),\n    //   contact.GetFixtureB().GetBody().GetUserData()\n    // );\n    // console.log(contact);\n\n  };\n\n  world.SetContactListener(contactListener);\n  createGameLoop(delta => {\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    if (isTouchedBox0) {\n      console.log(\"Dc,\");\n    }\n\n    world.Step(delta, 8, 3);\n    batch.setProjection(camera.combined);\n    shapeRenderer.setProjection(camera.combined);\n    shapeRenderer.begin();\n    shapeRenderer.rect(true, 0, 0, WORLD_WIDTH, WORLD_HEIGHT, Color.WHITE);\n\n    for (let wall of wallData) {\n      shapeRenderer.rect(true, wall.x, wall.y, wall.width, wall.height, WALL_COLOR);\n    }\n\n    shapeRenderer.rect(true, 2 * METER_TO_WORLD, 3.5 * METER_TO_WORLD, 0.25 * METER_TO_WORLD, 0.7 * METER_TO_WORLD, Color.MAGENTA);\n    shapeRenderer.circle(true, ball.GetPosition().x * METER_TO_WORLD, ball.GetPosition().y * METER_TO_WORLD, BALL_RADIUS * METER_TO_WORLD, Color.RED);\n    shapeRenderer.end();\n    batch.begin();\n    batch.draw(background, 0, 0, WORLD_WIDTH, WORLD_HEIGHT);\n    batch.end();\n    shapeRenderer.begin();\n    shapeRenderer.circle(true, slingPos.x, slingPos.y, 0.1 * METER_TO_WORLD, Color.BLUE);\n    shapeRenderer.end();\n    batch.begin();\n    regionBox0.draw(batch, boxes[0].GetPosition().x * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, boxes[0].GetPosition().y * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, BOX_SIZE * METER_TO_WORLD, BOX_SIZE * METER_TO_WORLD);\n    regionBox1.draw(batch, boxes[1].GetPosition().x * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, boxes[1].GetPosition().y * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, BOX_SIZE * METER_TO_WORLD, BOX_SIZE * METER_TO_WORLD);\n    regionBox2.draw(batch, boxes[2].GetPosition().x * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, boxes[2].GetPosition().y * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, BOX_SIZE * METER_TO_WORLD, BOX_SIZE * METER_TO_WORLD);\n    regionBox3.draw(batch, boxes[3].GetPosition().x * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, boxes[3].GetPosition().y * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, BOX_SIZE * METER_TO_WORLD, BOX_SIZE * METER_TO_WORLD);\n    regionBox4.draw(batch, boxes[4].GetPosition().x * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, boxes[4].GetPosition().y * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, BOX_SIZE * METER_TO_WORLD, BOX_SIZE * METER_TO_WORLD);\n    regionBox5.draw(batch, boxes[5].GetPosition().x * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, boxes[5].GetPosition().y * METER_TO_WORLD - BOX_SIZE * METER_TO_WORLD / 2, BOX_SIZE * METER_TO_WORLD, BOX_SIZE * METER_TO_WORLD); // shapeRenderer.rect(\n    //   true,\n    //   box.GetPosition().x * METER_TO_WORLD - (BOX_SIZE * METER_TO_WORLD) / 2,\n    //   box.GetPosition().y * METER_TO_WORLD - (BOX_SIZE * METER_TO_WORLD) / 2,\n    //   BOX_SIZE * METER_TO_WORLD,\n    //   BOX_SIZE * METER_TO_WORLD,\n    //   Color.RED\n    // );\n\n    batch.draw(slingShot, 2 * METER_TO_WORLD, 3.5 * METER_TO_WORLD, 0.25 * METER_TO_WORLD, 0.7 * METER_TO_WORLD);\n\n    for (let box of pigs) {\n      batch.draw(pig, box.GetPosition().x * METER_TO_WORLD - PIG_SIZE * METER_TO_WORLD / 2, box.GetPosition().y * METER_TO_WORLD - PIG_SIZE * METER_TO_WORLD / 2, PIG_SIZE * METER_TO_WORLD, PIG_SIZE * METER_TO_WORLD); // console.log(box.GetContactList());\n    }\n\n    batch.draw(bird, ball.GetPosition().x * METER_TO_WORLD - 25, ball.GetPosition().y * METER_TO_WORLD - 25, BOX_SIZE * METER_TO_WORLD, BOX_SIZE * METER_TO_WORLD);\n    delayTime += delta;\n    batch.end();\n  });\n};\ninit();","map":{"version":3,"names":["b2BodyDef","b2BodyType","b2CircleShape","b2ContactListener","b2FixtureDef","b2PolygonShape","b2World","Animation","Color","createGameLoop","createStage","createViewport","InputEvent","PlayMode","PolygonBatch","ShapeRenderer","Texture","TextureRegion","Vector2","ViewportInputHandler","WORLD_WIDTH","WORLD_HEIGHT","contactListener","createWall","world","x","y","width","height","bodyDef","type","b2_staticBody","position","Set","body","CreateBody","shape","SetAsBox","SetUserData","CreateFixture","createBall","radius","circle","m_radius","fixtureDef","restitution","friction","userData","createBox","b2_dynamicBody","WALL_COLOR","METER_TO_WORLD","init","stage","canvas","getCanvas","viewport","gl","getContext","camera","getCamera","batch","setYDown","pig","load","bird","slingShot","background","mapData","fetch","then","res","json","wallData","layers","find","l","name","objects","shapeRenderer","boxTexture","regions","splitTexture","frameDuration","testAnimation","slice","isTouchedBox0","frameBox0","frameBox1","frameBox2","frameBox3","frameBox4","frameBox5","regionBox0","getKeyFrame","NORMAL","regionBox1","regionBox2","regionBox3","regionBox4","regionBox5","wall","BOX_SIZE","PIG_SIZE","pigs","boxes","pigNumber","boxNumber","test1","test2","i","j","push","BALL_RADIUS","ball","hasBirdOnSlingShot","originPosition","GetPosition","slingPos","inputHandler","addEventListener","TouchMove","isTouched","getTouchedWorldCoord","TouchEnd","SetType","ApplyLinearImpulseToCenter","frame","delayTime","window","e","key","DestroyBody","clearColor","damageBoxes","BeginContact","contact","GetFixtureA","GetBody","GetUserData","console","log","GetFixtureB","warn","SetContactListener","delta","clear","COLOR_BUFFER_BIT","Step","setProjection","combined","begin","rect","WHITE","MAGENTA","RED","end","draw","BLUE","box"],"sources":["D:/projects/test-game/src/index.ts"],"sourcesContent":["import {\r\n  b2Alloc,\r\n  b2Body,\r\n  b2BodyDef,\r\n  b2BodyType,\r\n  b2CircleShape,\r\n  b2Contact,\r\n  b2ContactListener,\r\n  b2Fixture,\r\n  b2FixtureDef,\r\n  b2PolygonShape,\r\n  b2World,\r\n} from \"box2d.ts\";\r\nimport {\r\n  Animation,\r\n  Color,\r\n  createGameLoop,\r\n  createStage,\r\n  createViewport,\r\n  InputEvent,\r\n  PlayMode,\r\n  PolygonBatch,\r\n  ShapeRenderer,\r\n  Texture,\r\n  TextureRegion,\r\n  Vector2,\r\n  ViewportInputHandler,\r\n} from \"gdxts\";\r\n\r\nconst WORLD_WIDTH = 1000;\r\nconst WORLD_HEIGHT = 500;\r\n\r\nconst contactListener = new b2ContactListener();\r\n\r\nconst createWall = (\r\n  world: b2World,\r\n  x: number,\r\n  y: number,\r\n  width: number,\r\n  height: number\r\n) => {\r\n  const bodyDef = new b2BodyDef();\r\n  bodyDef.type = b2BodyType.b2_staticBody;\r\n  bodyDef.position.Set(x + width / 2, y + height / 2);\r\n  const body = world.CreateBody(bodyDef);\r\n  const shape = new b2PolygonShape();\r\n  shape.SetAsBox(width / 2, height / 2);\r\n  body.SetUserData(\"ground\");\r\n  body.CreateFixture(shape);\r\n};\r\n\r\nconst createBall = (\r\n  world: b2World,\r\n  x: number,\r\n  y: number,\r\n  radius: number\r\n): b2Body => {\r\n  const bodyDef = new b2BodyDef();\r\n  bodyDef.type = b2BodyType.b2_staticBody;\r\n  bodyDef.position.Set(x + radius / 2, y + radius / 2);\r\n  const circle = new b2CircleShape();\r\n  circle.m_radius = radius;\r\n  const fixtureDef = new b2FixtureDef();\r\n  fixtureDef.shape = circle;\r\n  // fixtureDef.density = 1;\r\n  fixtureDef.restitution = 0.5; // bounce ball\r\n  fixtureDef.friction = 1;\r\n  fixtureDef.shape = circle;\r\n  fixtureDef.userData = \"ballFixture\";\r\n\r\n  const body = world.CreateBody(bodyDef);\r\n  body.CreateFixture(fixtureDef);\r\n  body.SetUserData(\"ball\");\r\n  return body;\r\n};\r\n\r\nconst createBox = (\r\n  world: b2World,\r\n  x: number,\r\n  y: number,\r\n  width: number,\r\n  height: number,\r\n  userData: string\r\n): b2Body => {\r\n  const bodyDef = new b2BodyDef();\r\n  bodyDef.type = b2BodyType.b2_dynamicBody;\r\n  bodyDef.position.Set(x + width / 2, y + height / 2);\r\n  const body = world.CreateBody(bodyDef);\r\n  const shape = new b2PolygonShape();\r\n  shape.SetAsBox(width * 0.5, height * 0.5);\r\n  body.SetUserData(userData);\r\n  body.CreateFixture(shape);\r\n  return body;\r\n};\r\n\r\nconst WALL_COLOR = new Color(0.5, 0.5, 0.5, 1);\r\nconst METER_TO_WORLD = 100;\r\n\r\nexport const init = async () => {\r\n  const stage = createStage();\r\n  const canvas = stage.getCanvas();\r\n  const viewport = createViewport(canvas, WORLD_WIDTH, WORLD_HEIGHT);\r\n  const gl = viewport.getContext();\r\n  const camera = viewport.getCamera();\r\n  const batch = new PolygonBatch(gl);\r\n\r\n  camera.setYDown(true);\r\n  batch.setYDown(true);\r\n\r\n  const pig = await Texture.load(gl, \"./pig.png\");\r\n  const bird = await Texture.load(gl, \"./bird.png\");\r\n  const slingShot = await Texture.load(gl, \"./slingshot.png\");\r\n  const background = await Texture.load(gl, \"./background.png\");\r\n  const mapData = await fetch(\"./untitled.tmj\").then((res) => res.json());\r\n  const wallData = mapData.layers.find((l: any) => l.name === \"walls\").objects;\r\n  const shapeRenderer = new ShapeRenderer(gl);\r\n  const world = new b2World({\r\n    x: 0,\r\n    y: 10,\r\n  });\r\n\r\n  const boxTexture = await Texture.load(gl, \"./testAnimation1.png\");\r\n  const regions = TextureRegion.splitTexture(boxTexture, 1, 4);\r\n\r\n  let frameDuration = 0.4;\r\n  const testAnimation = new Animation(regions.slice(0, 4), frameDuration);\r\n  let isTouchedBox0 = false;\r\n\r\n  let frameBox0 = 0;\r\n  let frameBox1 = 0;\r\n  let frameBox2 = 0;\r\n  let frameBox3 = 0;\r\n  let frameBox4 = 0;\r\n  let frameBox5 = 0;\r\n  let regionBox0 = testAnimation.getKeyFrame(frameBox0, PlayMode.NORMAL);\r\n  let regionBox1 = testAnimation.getKeyFrame(frameBox1, PlayMode.NORMAL);\r\n  let regionBox2 = testAnimation.getKeyFrame(frameBox2, PlayMode.NORMAL);\r\n  let regionBox3 = testAnimation.getKeyFrame(frameBox3, PlayMode.NORMAL);\r\n  let regionBox4 = testAnimation.getKeyFrame(frameBox4, PlayMode.NORMAL);\r\n  let regionBox5 = testAnimation.getKeyFrame(frameBox5, PlayMode.NORMAL);\r\n\r\n  for (let wall of wallData) {\r\n    createWall(\r\n      world,\r\n      wall.x / METER_TO_WORLD,\r\n      wall.y / METER_TO_WORLD,\r\n      wall.width / METER_TO_WORLD,\r\n      wall.height / METER_TO_WORLD\r\n    );\r\n  }\r\n\r\n  const BOX_SIZE = 0.5;\r\n  const PIG_SIZE = 0.3;\r\n  const pigs: b2Body[] = [];\r\n  const boxes: b2Body[] = [];\r\n  let pigNumber = 0;\r\n  let boxNumber = 0;\r\n  let test1 = 6;\r\n  let test2 = 4.3;\r\n\r\n  for (let i = 0; i < 3; i++) {\r\n    test1 = 6 + i * 0.4;\r\n    for (let j = 0; j <= i; j++) {\r\n      boxes.push(\r\n        createBox(\r\n          world,\r\n          (test1 += 0.51),\r\n          (test2 -= 0.55),\r\n          BOX_SIZE,\r\n          BOX_SIZE,\r\n          \"box \" + boxNumber++\r\n        )\r\n      );\r\n    }\r\n    if (i < 2) {\r\n      pigs.push(\r\n        createBox(\r\n          world,\r\n          test1 + 0.5,\r\n          test2 - 0.25,\r\n          PIG_SIZE,\r\n          PIG_SIZE,\r\n          \"pig\" + \" \" + pigNumber++\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  const BALL_RADIUS = 0.2;\r\n  let ball = createBall(world, 2, 3.5, BALL_RADIUS);\r\n  let hasBirdOnSlingShot = true;\r\n  const originPosition = new Vector2(\r\n    ball.GetPosition().x * METER_TO_WORLD,\r\n    ball.GetPosition().y * METER_TO_WORLD\r\n  );\r\n  let slingPos = new Vector2(\r\n    ball.GetPosition().x * METER_TO_WORLD,\r\n    ball.GetPosition().y * METER_TO_WORLD\r\n  );\r\n\r\n  const inputHandler = new ViewportInputHandler(viewport);\r\n\r\n  inputHandler.addEventListener(InputEvent.TouchMove, () => {\r\n    if (inputHandler.isTouched()) {\r\n      slingPos = inputHandler.getTouchedWorldCoord();\r\n    }\r\n  });\r\n  inputHandler.addEventListener(InputEvent.TouchEnd, () => {\r\n    if (hasBirdOnSlingShot) {\r\n      ball.SetType(b2BodyType.b2_dynamicBody);\r\n      ball.ApplyLinearImpulseToCenter(\r\n        {\r\n          x: (7 * (originPosition.x - slingPos.x)) / METER_TO_WORLD,\r\n          y: (7 * (originPosition.y - slingPos.y)) / METER_TO_WORLD,\r\n        },\r\n        true\r\n      );\r\n      hasBirdOnSlingShot = false;\r\n    }\r\n  });\r\n  let frame = 0;\r\n  let delayTime = 0;\r\n\r\n  window.addEventListener(\"keydown\", function (e) {\r\n    if (!hasBirdOnSlingShot && e.key === \"r\") {\r\n      world.DestroyBody(ball);\r\n      ball = createBall(world, 2, 3.5, BALL_RADIUS);\r\n      hasBirdOnSlingShot = true;\r\n    }\r\n  });\r\n\r\n  gl.clearColor(0, 0, 0, 1);\r\n  let damageBoxes = 0;\r\n  contactListener.BeginContact = function (contact: b2Contact) {\r\n    if (delayTime >= 1) {\r\n      switch (contact.GetFixtureA().GetBody().GetUserData()) {\r\n        case \"box \" + 0:\r\n          console.log(\"box 0\");\r\n          console.log(frameBox0);\r\n          isTouchedBox0 = true;\r\n          break;\r\n        case \"box \" + 1:\r\n          console.log(\"box 1\");\r\n          break;\r\n\r\n        case \"box \" + 2:\r\n          console.log(\"box 2\");\r\n          frameBox2++;\r\n          break;\r\n\r\n        case \"box \" + 3:\r\n          console.log(\"box 3\");\r\n          break;\r\n        case \"box \" + 4:\r\n          console.log(\"box 4\");\r\n          break;\r\n        case \"box \" + 5:\r\n          console.log(\"box 5\");\r\n          break;\r\n\r\n        default:\r\n          console.log(\"deocogi\");\r\n          break;\r\n      }\r\n\r\n      switch (contact.GetFixtureB().GetBody().GetUserData()) {\r\n        case \"box \" + 0:\r\n          console.warn(\"box2 0\");\r\n          break;\r\n        case \"box \" + 1:\r\n          console.warn(\"box2 1\");\r\n          break;\r\n\r\n        case \"box \" + 2:\r\n          console.warn(\"box2 2\");\r\n          break;\r\n\r\n        case \"box \" + 3:\r\n          console.warn(\"box2 3\");\r\n          break;\r\n        case \"box \" + 4:\r\n          console.warn(\"box2 4\");\r\n          break;\r\n        case \"box \" + 5:\r\n          console.warn(\"box2 5\");\r\n          break;\r\n\r\n        default:\r\n          console.log(\"deocogi\");\r\n          break;\r\n      }\r\n    }\r\n    // console.log(\r\n    //   contact.GetFixtureA().GetBody().GetUserData(),\r\n    //   contact.GetFixtureB().GetBody().GetUserData()\r\n    // );\r\n    // console.log(contact);\r\n  };\r\n\r\n  world.SetContactListener(contactListener);\r\n\r\n  createGameLoop((delta: number) => {\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n\r\n    if (isTouchedBox0) {\r\n      console.log(\"Dc,\");\r\n    }\r\n\r\n    world.Step(delta, 8, 3);\r\n    batch.setProjection(camera.combined);\r\n\r\n    shapeRenderer.setProjection(camera.combined);\r\n    shapeRenderer.begin();\r\n    shapeRenderer.rect(true, 0, 0, WORLD_WIDTH, WORLD_HEIGHT, Color.WHITE);\r\n\r\n    for (let wall of wallData) {\r\n      shapeRenderer.rect(\r\n        true,\r\n        wall.x,\r\n        wall.y,\r\n        wall.width,\r\n        wall.height,\r\n        WALL_COLOR\r\n      );\r\n    }\r\n    shapeRenderer.rect(\r\n      true,\r\n      2 * METER_TO_WORLD,\r\n      3.5 * METER_TO_WORLD,\r\n      0.25 * METER_TO_WORLD,\r\n      0.7 * METER_TO_WORLD,\r\n      Color.MAGENTA\r\n    );\r\n    shapeRenderer.circle(\r\n      true,\r\n      ball.GetPosition().x * METER_TO_WORLD,\r\n      ball.GetPosition().y * METER_TO_WORLD,\r\n      BALL_RADIUS * METER_TO_WORLD,\r\n      Color.RED\r\n    );\r\n    shapeRenderer.end();\r\n\r\n    batch.begin();\r\n    batch.draw(background, 0, 0, WORLD_WIDTH, WORLD_HEIGHT);\r\n    batch.end();\r\n\r\n    shapeRenderer.begin();\r\n    shapeRenderer.circle(\r\n      true,\r\n      slingPos.x,\r\n      slingPos.y,\r\n      0.1 * METER_TO_WORLD,\r\n      Color.BLUE\r\n    );\r\n\r\n    shapeRenderer.end();\r\n\r\n    batch.begin();\r\n\r\n    regionBox0.draw(\r\n      batch,\r\n      boxes[0].GetPosition().x * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      boxes[0].GetPosition().y * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      BOX_SIZE * METER_TO_WORLD,\r\n      BOX_SIZE * METER_TO_WORLD\r\n    );\r\n    regionBox1.draw(\r\n      batch,\r\n      boxes[1].GetPosition().x * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      boxes[1].GetPosition().y * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      BOX_SIZE * METER_TO_WORLD,\r\n      BOX_SIZE * METER_TO_WORLD\r\n    );\r\n    regionBox2.draw(\r\n      batch,\r\n      boxes[2].GetPosition().x * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      boxes[2].GetPosition().y * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      BOX_SIZE * METER_TO_WORLD,\r\n      BOX_SIZE * METER_TO_WORLD\r\n    );\r\n    regionBox3.draw(\r\n      batch,\r\n      boxes[3].GetPosition().x * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      boxes[3].GetPosition().y * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      BOX_SIZE * METER_TO_WORLD,\r\n      BOX_SIZE * METER_TO_WORLD\r\n    );\r\n    regionBox4.draw(\r\n      batch,\r\n      boxes[4].GetPosition().x * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      boxes[4].GetPosition().y * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      BOX_SIZE * METER_TO_WORLD,\r\n      BOX_SIZE * METER_TO_WORLD\r\n    );\r\n    regionBox5.draw(\r\n      batch,\r\n      boxes[5].GetPosition().x * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      boxes[5].GetPosition().y * METER_TO_WORLD -\r\n        (BOX_SIZE * METER_TO_WORLD) / 2,\r\n      BOX_SIZE * METER_TO_WORLD,\r\n      BOX_SIZE * METER_TO_WORLD\r\n    );\r\n\r\n    // shapeRenderer.rect(\r\n    //   true,\r\n    //   box.GetPosition().x * METER_TO_WORLD - (BOX_SIZE * METER_TO_WORLD) / 2,\r\n    //   box.GetPosition().y * METER_TO_WORLD - (BOX_SIZE * METER_TO_WORLD) / 2,\r\n    //   BOX_SIZE * METER_TO_WORLD,\r\n    //   BOX_SIZE * METER_TO_WORLD,\r\n    //   Color.RED\r\n    // );\r\n    batch.draw(\r\n      slingShot,\r\n      2 * METER_TO_WORLD,\r\n      3.5 * METER_TO_WORLD,\r\n      0.25 * METER_TO_WORLD,\r\n      0.7 * METER_TO_WORLD\r\n    );\r\n    for (let box of pigs) {\r\n      batch.draw(\r\n        pig,\r\n        box.GetPosition().x * METER_TO_WORLD - (PIG_SIZE * METER_TO_WORLD) / 2,\r\n        box.GetPosition().y * METER_TO_WORLD - (PIG_SIZE * METER_TO_WORLD) / 2,\r\n        PIG_SIZE * METER_TO_WORLD,\r\n        PIG_SIZE * METER_TO_WORLD\r\n      );\r\n      // console.log(box.GetContactList());\r\n    }\r\n\r\n    batch.draw(\r\n      bird,\r\n      ball.GetPosition().x * METER_TO_WORLD - 25,\r\n      ball.GetPosition().y * METER_TO_WORLD - 25,\r\n      BOX_SIZE * METER_TO_WORLD,\r\n      BOX_SIZE * METER_TO_WORLD\r\n    );\r\n\r\n    delayTime += delta;\r\n    batch.end();\r\n  });\r\n};\r\ninit();\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}